{"version":3,"sources":["../../../../src/Apps/Artist/Components/NavigationTabs.tsx"],"names":["NavigationTabs","context_module","Schema","ContextModule","_props","_state","tab","destination_path","action_type","ActionType","Click","subject","text","to","options","exact","mediator","trigger","handleClick","props","artist","id","statuses","route","path","renderTab","cv","articles","shows","auction_lots","renderTabs","React","Component","NavigationTabsFragmentContainer"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IASaA,c,WAHZ,sBAAM;AACLC,EAAAA,cAAc,EAAEC,MAAM,CAACC,aAAP,CAAqBH;AADhC,CAAN,C,UAIE,sBAAM,UAACI,MAAD,EAASC,MAAT;AAAA;AAAA,MAAkBC,GAAlB;AAAA,MAAuBC,gBAAvB;;AAAA,SAAwD;AAC7DC,IAAAA,WAAW,EAAEN,MAAM,CAACO,UAAP,CAAkBC,KAD8B;AAE7DC,IAAAA,OAAO,EAAEL,GAFoD;AAG7DC,IAAAA,gBAAgB,EAAhBA;AAH6D,GAAxD;AAAA,CAAN,C;;;;;;;;;;;;;gCAKWD,G,EAAaC,gB,EAA0B,CACjD;AACD;;;8BAGCK,I,EACAC,E,EACAC,O,EAMA;AAAA;;AAAA,UACQC,KADR,GAC4BD,OAD5B,CACQC,KADR;AAAA,UACeC,QADf,GAC4BF,OAD5B,CACeE,QADf;AAGA,aACE,6BAAC,WAAD;AACE,QAAA,EAAE,EAAEH,EADN;AAEE,QAAA,KAAK,EAAEE,KAFT;AAGE,QAAA,OAAO,EAAE,mBAAM;AACbC,UAAAA,QAAQ,IAAIA,QAAQ,CAACC,OAAT,CAAiB,iBAAjB,EAAoC;AAAEJ,YAAAA,EAAE,EAAFA;AAAF,WAApC,CAAZ;;AACA,UAAA,KAAI,CAACK,WAAL,CAAiBN,IAAjB,EAAuBC,EAAvB;AACD;AANH,SAQGD,IARH,CADF;AAYD;;;iCAEY;AAAA,wBAIP,KAAKO,KAJE;AAAA,2CAETC,MAFS;AAAA,UAECC,EAFD,sBAECA,EAFD;AAAA,UAEKC,QAFL,sBAEKA,QAFL;AAAA,UAGTN,QAHS,eAGTA,QAHS;;AAMX,UAAMO,KAAK,GAAG,SAARA,KAAQ,CAAAC,IAAI;AAAA,iCAAeH,EAAf,SAAoBG,IAApB;AAAA,OAAlB;;AAEA,aACE,4DACG,KAAKC,SAAL,CAAe,UAAf,EAA2BF,KAAK,CAAC,EAAD,CAAhC,EAAsC;AACrCR,QAAAA,KAAK,EAAE,IAD8B;AAErCC,QAAAA,QAAQ,EAARA;AAFqC,OAAtC,CADH,EAKGM,QAAQ,CAACI,EAAT,IAAe,KAAKD,SAAL,CAAe,IAAf,EAAqBF,KAAK,CAAC,KAAD,CAA1B,EAAmC;AAAEP,QAAAA,QAAQ,EAARA;AAAF,OAAnC,CALlB,EAMGM,QAAQ,CAACK,QAAT,IACC,KAAKF,SAAL,CAAe,UAAf,EAA2BF,KAAK,CAAC,WAAD,CAAhC,EAA+C;AAC7CP,QAAAA,QAAQ,EAARA;AAD6C,OAA/C,CAPJ,EAUGM,QAAQ,CAACM,KAAT,IACC,KAAKH,SAAL,CAAe,OAAf,EAAwBF,KAAK,CAAC,QAAD,CAA7B,EAAyC;AAAEP,QAAAA,QAAQ,EAARA;AAAF,OAAzC,CAXJ,EAYGM,QAAQ,CAACO,YAAT,IACC,KAAKJ,SAAL,CAAe,iBAAf,EAAkCF,KAAK,CAAC,kBAAD,CAAvC,EAA6D;AAC3DP,QAAAA,QAAQ,EAARA;AAD2D,OAA7D,CAbJ,CADF;AAmBD;;;6BAEQ;AACP,aACE,4DACE,6BAAC,aAAD;AAAM,QAAA,EAAE,EAAE,CAAC,CAAC,CAAF,EAAK,CAAL;AAAV,SACE,6BAAC,YAAD,QAAY,KAAKc,UAAL,EAAZ,CADF,CADF,CADF;AAOD;;;;EAzEiCC,eAAMC,S;;AA4EnC,IAAMC,+BAA+B,GAAG,yCAC7C,8BAAkBjC,cAAlB,CAD6C,EAE7C;AACEoB,EAAAA,MAAM;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AADR,CAF6C,CAAxC","sourcesContent":["import { Flex } from \"@artsy/palette\"\nimport { NavigationTabs_artist } from \"__generated__/NavigationTabs_artist.graphql\"\nimport { SystemContextProps, withSystemContext } from \"Artsy\"\nimport { track } from \"Artsy/Analytics\"\nimport * as Schema from \"Artsy/Analytics/Schema\"\nimport { RouteTab, RouteTabs } from \"Components/v2\"\nimport React from \"react\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\n\ninterface Props extends SystemContextProps {\n  artist: NavigationTabs_artist\n}\n\n@track({\n  context_module: Schema.ContextModule.NavigationTabs,\n})\nexport class NavigationTabs extends React.Component<Props> {\n  @track((_props, _state, [tab, destination_path]: string[]) => ({\n    action_type: Schema.ActionType.Click,\n    subject: tab,\n    destination_path,\n  }))\n  handleClick(tab: string, destination_path: string) {\n    // no-op\n  }\n\n  renderTab(\n    text: string,\n    to: string,\n    options: {\n      exact?: boolean\n      mediator: {\n        trigger: (action: string, config: object) => void\n      }\n    }\n  ) {\n    const { exact, mediator } = options\n\n    return (\n      <RouteTab\n        to={to}\n        exact={exact}\n        onClick={() => {\n          mediator && mediator.trigger(\"artist:tabclick\", { to })\n          this.handleClick(text, to)\n        }}\n      >\n        {text}\n      </RouteTab>\n    )\n  }\n\n  renderTabs() {\n    const {\n      artist: { id, statuses },\n      mediator,\n    } = this.props\n\n    const route = path => `/artist/${id}${path}`\n\n    return (\n      <>\n        {this.renderTab(\"Overview\", route(\"\"), {\n          exact: true,\n          mediator,\n        })}\n        {statuses.cv && this.renderTab(\"CV\", route(\"/cv\"), { mediator })}\n        {statuses.articles &&\n          this.renderTab(\"Articles\", route(\"/articles\"), {\n            mediator,\n          })}\n        {statuses.shows &&\n          this.renderTab(\"Shows\", route(\"/shows\"), { mediator })}\n        {statuses.auction_lots &&\n          this.renderTab(\"Auction results\", route(\"/auction-results\"), {\n            mediator,\n          })}\n      </>\n    )\n  }\n\n  render() {\n    return (\n      <>\n        <Flex mx={[-2, 0]}>\n          <RouteTabs>{this.renderTabs()}</RouteTabs>\n        </Flex>\n      </>\n    )\n  }\n}\n\nexport const NavigationTabsFragmentContainer = createFragmentContainer(\n  withSystemContext(NavigationTabs),\n  {\n    artist: graphql`\n      fragment NavigationTabs_artist on Artist {\n        id\n        statuses {\n          shows\n          articles\n          cv(minShowCount: 0)\n          auction_lots\n        }\n      }\n    `,\n  }\n)\n"],"file":"NavigationTabs.js"}