{"version":3,"sources":["../../../../../src/Apps/Artwork/Components/ArtworkDetails/ArtworkDetailsAboutTheWorkFromArtsy.tsx"],"names":["READ_MORE_MAX_CHARS","xs","default","ArtworkDetailsAboutTheWorkFromArtsy","context_module","Schema","ContextModule","AboutTheWork","action_type","ActionType","Click","flow","Flow","ArtworkAboutTheWork","subject","Subject","ReadMore","type","Type","Button","breakpoint","description","props","artwork","maxChars","trackReadMoreClick","bind","renderReadMore","Component","ArtworkDetailsAboutTheWorkFromArtsyFragmentContainer"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAIA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;AAEO,IAAMA,mBAAmB,GAAG;AACjCC,EAAAA,EAAE,EAAE,GAD6B;AAEjCC,EAAAA,OAAO,EAAE;AAFwB,CAA5B;;IAYMC,mC,WAHZ,sBAAM;AACLC,EAAAA,cAAc,EAAEC,MAAM,CAACC,aAAP,CAAqBC;AADhC,CAAN,C,UAME,sBAAM;AACLC,EAAAA,WAAW,EAAEH,MAAM,CAACI,UAAP,CAAkBC,KAD1B;AAELC,EAAAA,IAAI,EAAEN,MAAM,CAACO,IAAP,CAAYC,mBAFb;AAGLC,EAAAA,OAAO,EAAET,MAAM,CAACU,OAAP,CAAeC,QAHnB;AAILC,EAAAA,IAAI,EAAEZ,MAAM,CAACa,IAAP,CAAYC;AAJb,CAAN,C;;;;;;;;;;;;;yCAMoB,CACnB;AACD;;;mCAEcC,U,EAAqB;AAAA,UAC1BC,WAD0B,GACV,KAAKC,KAAL,CAAWC,OADD,CAC1BF,WAD0B;AAElC,UAAMpB,EAAE,GAAGmB,UAAU,KAAK,IAA1B;AACA,UAAMI,QAAQ,GAAGvB,EAAE,GAAGD,mBAAmB,CAACC,EAAvB,GAA4BD,mBAAmB,CAACE,OAAnE;AAEA,aACE,6BAAC,iBAAD;AACE,QAAA,QAAQ,EAAEsB,QADZ;AAEE,QAAA,OAAO,EAAEH,WAFX;AAGE,QAAA,iBAAiB,EAAE,KAAKI,kBAAL,CAAwBC,IAAxB,CAA6B,IAA7B;AAHrB,QADF;AAOD;;;6BAEQ;AACP,UAAI,CAAC,KAAKJ,KAAL,CAAWC,OAAX,CAAmBF,WAAxB,EAAqC;AACnC,eAAO,IAAP;AACD;;AACD,aACE,6BAAC,YAAD;AAAK,QAAA,EAAE,EAAE;AAAT,SACE,6BAAC,cAAD;AAAO,QAAA,IAAI,EAAC;AAAZ,SACE,6BAAC,iBAAD;AAAO,QAAA,EAAE,EAAC;AAAV,SAAgB,KAAKM,cAAL,CAAoB,IAApB,CAAhB,CADF,EAEE,6BAAC,iBAAD;AAAO,QAAA,WAAW,EAAC;AAAnB,SAAyB,KAAKA,cAAL,EAAzB,CAFF,CADF,CADF;AAQD;;;;EAvCsDC,gB;;AA0ClD,IAAMC,oDAAoD,GAAG,yCAClE1B,mCADkE,EAElE;AACEoB,EAAAA,OAAO;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AADT,CAFkE,CAA7D","sourcesContent":["import { Box, ReadMore, Serif } from \"@artsy/palette\"\nimport React, { Component } from \"react\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\nimport { Media } from \"Utils/Responsive\"\n\nimport { ArtworkDetailsAboutTheWorkFromArtsy_artwork } from \"__generated__/ArtworkDetailsAboutTheWorkFromArtsy_artwork.graphql\"\n\nimport { track } from \"Artsy/Analytics\"\nimport * as Schema from \"Artsy/Analytics/Schema\"\n\nexport const READ_MORE_MAX_CHARS = {\n  xs: 100,\n  default: 320,\n}\n\nexport interface ArtworkDetailsAboutTheWorkFromArtsyProps {\n  artwork: ArtworkDetailsAboutTheWorkFromArtsy_artwork\n}\n\n@track({\n  context_module: Schema.ContextModule.AboutTheWork,\n})\nexport class ArtworkDetailsAboutTheWorkFromArtsy extends Component<\n  ArtworkDetailsAboutTheWorkFromArtsyProps\n> {\n  @track({\n    action_type: Schema.ActionType.Click,\n    flow: Schema.Flow.ArtworkAboutTheWork,\n    subject: Schema.Subject.ReadMore,\n    type: Schema.Type.Button,\n  })\n  trackReadMoreClick() {\n    // noop\n  }\n\n  renderReadMore(breakpoint?: string) {\n    const { description } = this.props.artwork\n    const xs = breakpoint === \"xs\"\n    const maxChars = xs ? READ_MORE_MAX_CHARS.xs : READ_MORE_MAX_CHARS.default\n\n    return (\n      <ReadMore\n        maxChars={maxChars}\n        content={description}\n        onReadMoreClicked={this.trackReadMoreClick.bind(this)}\n      />\n    )\n  }\n\n  render() {\n    if (!this.props.artwork.description) {\n      return null\n    }\n    return (\n      <Box pb={2}>\n        <Serif size=\"3\">\n          <Media at=\"xs\">{this.renderReadMore(\"xs\")}</Media>\n          <Media greaterThan=\"xs\">{this.renderReadMore()}</Media>\n        </Serif>\n      </Box>\n    )\n  }\n}\n\nexport const ArtworkDetailsAboutTheWorkFromArtsyFragmentContainer = createFragmentContainer(\n  ArtworkDetailsAboutTheWorkFromArtsy,\n  {\n    artwork: graphql`\n      fragment ArtworkDetailsAboutTheWorkFromArtsy_artwork on Artwork {\n        description(format: HTML)\n      }\n    `,\n  }\n)\n"],"file":"ArtworkDetailsAboutTheWorkFromArtsy.js"}