{"version":3,"sources":["../../../../../src/Apps/Artwork/Components/ArtworkDetails/index.tsx"],"names":["ArtworkDetails","context_module","Schema","ContextModule","ArtworkTabs","dispatch","data","Events","postEvent","_props","_state","flow","Flow","ArtworkAboutTheArtist","type","Type","Tab","label","trackingLabel","action_type","ActionType","Click","artwork","props","trackTabChange","bind","articles","length","exhibition_history","__html","literature","provenance","Component","ArtworkDetailsFragmentContainer","ArtworkDetailsQueryRenderer","artworkID","SystemContext","relayEnvironment","TabContainer","Box","ArtworkDetailsContainer","ExhibitionHistory","Literature","Provenance"],"mappings":"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","sourcesContent":["import { Box, Tab, Tabs } from \"@artsy/palette\"\nimport { renderWithLoadProgress } from \"Artsy/Relay/renderWithLoadProgress\"\nimport React, { Component, useContext } from \"react\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\nimport styled from \"styled-components\"\nimport { ArtworkDetailsAboutTheWorkFromArtsyFragmentContainer as AboutTheWorkFromArtsy } from \"./ArtworkDetailsAboutTheWorkFromArtsy\"\nimport { ArtworkDetailsAboutTheWorkFromPartnerFragmentContainer as AboutTheWorkFromPartner } from \"./ArtworkDetailsAboutTheWorkFromPartner\"\nimport { ArtworkDetailsAdditionalInfoFragmentContainer as AdditionalInfo } from \"./ArtworkDetailsAdditionalInfo\"\nimport { ArtworkDetailsArticlesFragmentContainer as Articles } from \"./ArtworkDetailsArticles\"\n\nimport { ArtworkDetails_artwork } from \"__generated__/ArtworkDetails_artwork.graphql\"\nimport { ArtworkDetailsQuery } from \"__generated__/ArtworkDetailsQuery.graphql\"\n\nimport { SystemContext } from \"Artsy\"\nimport { track } from \"Artsy/Analytics\"\nimport * as Schema from \"Artsy/Analytics/Schema\"\nimport { SystemQueryRenderer as QueryRenderer } from \"Artsy/Relay/SystemQueryRenderer\"\nimport Events from \"Utils/Events\"\n\nexport interface ArtworkDetailsProps {\n  artwork: ArtworkDetails_artwork\n}\n\n@track(\n  {\n    context_module: Schema.ContextModule.ArtworkTabs,\n  },\n  {\n    dispatch: data => Events.postEvent(data),\n  }\n)\nexport class ArtworkDetails extends Component<ArtworkDetailsProps> {\n  @track((_props, _state, [{ data }]) => {\n    return {\n      flow: Schema.Flow.ArtworkAboutTheArtist,\n      type: Schema.Type.Tab,\n      label: data.trackingLabel,\n      action_type: Schema.ActionType.Click,\n    }\n  })\n  trackTabChange() {\n    // noop\n  }\n\n  render() {\n    const { artwork } = this.props\n    return (\n      <ArtworkDetailsContainer mt={[4, 0]} mb={2}>\n        <Tabs onChange={this.trackTabChange.bind(this)}>\n          <Tab name=\"About the work\" data={{ trackingLabel: \"about_the_work\" }}>\n            <AboutTheWorkFromArtsy artwork={artwork} />\n            <AboutTheWorkFromPartner artwork={artwork} />\n            <AdditionalInfo artwork={artwork} />\n          </Tab>\n          {artwork.articles && artwork.articles.length && (\n            <Tab name=\"Articles\" data={{ trackingLabel: \"articles\" }}>\n              <Articles artwork={artwork} />\n            </Tab>\n          )}\n          {artwork.exhibition_history && (\n            <Tab\n              name=\"Exhibition history\"\n              data={{ trackingLabel: \"exhibition_history\" }}\n            >\n              <ExhibitionHistory\n                dangerouslySetInnerHTML={{ __html: artwork.exhibition_history }}\n              />\n            </Tab>\n          )}\n          {artwork.literature && (\n            <Tab name=\"Bibliography\" data={{ trackingLabel: \"bibliography\" }}>\n              <Literature\n                dangerouslySetInnerHTML={{ __html: artwork.literature }}\n              />\n            </Tab>\n          )}\n          {artwork.provenance && (\n            <Tab name=\"Provenance\" data={{ trackingLabel: \"provenance\" }}>\n              <Provenance\n                dangerouslySetInnerHTML={{ __html: artwork.provenance }}\n              />\n            </Tab>\n          )}\n        </Tabs>\n      </ArtworkDetailsContainer>\n    )\n  }\n}\n\nexport const ArtworkDetailsFragmentContainer = createFragmentContainer(\n  ArtworkDetails,\n  {\n    artwork: graphql`\n      fragment ArtworkDetails_artwork on Artwork {\n        ...ArtworkDetailsAboutTheWorkFromArtsy_artwork\n        ...ArtworkDetailsAboutTheWorkFromPartner_artwork\n        ...ArtworkDetailsAdditionalInfo_artwork\n        ...ArtworkDetailsArticles_artwork\n        articles(size: 10) {\n          id\n        }\n        literature(format: HTML)\n        exhibition_history(format: HTML)\n        provenance(format: HTML)\n      }\n    `,\n  }\n)\n\nexport const ArtworkDetailsQueryRenderer = ({\n  artworkID,\n}: {\n  artworkID: string\n}) => {\n  const { relayEnvironment } = useContext(SystemContext)\n\n  return (\n    <QueryRenderer<ArtworkDetailsQuery>\n      environment={relayEnvironment}\n      variables={{ artworkID }}\n      query={graphql`\n        query ArtworkDetailsQuery($artworkID: String!) {\n          artwork(id: $artworkID) {\n            ...ArtworkDetails_artwork\n          }\n        }\n      `}\n      render={renderWithLoadProgress(ArtworkDetailsFragmentContainer)}\n    />\n  )\n}\n\n// For block-level HTML (CMS) tab content collapse the first element's top margin\n// so that content properly aligns to the top of the container.\nconst TabContainer = styled(Box)`\n  > * {\n    margin-block-start: 0;\n  }\n`\n\nconst ArtworkDetailsContainer = TabContainer\nconst ExhibitionHistory = TabContainer\nconst Literature = TabContainer\nconst Provenance = TabContainer\n"],"file":"index.js"}