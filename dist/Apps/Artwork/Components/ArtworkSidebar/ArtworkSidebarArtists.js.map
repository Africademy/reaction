{"version":3,"sources":["../../../../../src/Apps/Artwork/Components/ArtworkSidebar/ArtworkSidebarArtists.tsx"],"names":["ArtworkSidebarArtists","mediator","artist","entity","contextModule","Schema","ContextModule","ArtworkPage","intent","AuthModalIntent","FollowArtist","href","name","user","renderArtistName","modelName","OwnerType","Artist","context_module","Sidebar","context_page","entity_id","_id","entity_slug","id","handleOpenAuth","is_followed","artists","props","artwork","map","index","__id","length","cultural_maker","renderSingleArtist","renderMultipleArtists","renderCulturalMaker","React","Component","ArtworkSidebarArtistsFragmentContainer"],"mappings":"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","sourcesContent":["import { Box, Serif } from \"@artsy/palette\"\nimport { SystemContextConsumer } from \"Artsy\"\nimport * as Schema from \"Artsy/Analytics/Schema\"\n\nimport { FollowIcon } from \"Components/v2\"\nimport React from \"react\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\n\nimport { ArtworkSidebarArtists_artwork } from \"__generated__/ArtworkSidebarArtists_artwork.graphql\"\nimport { FollowArtistButtonFragmentContainer as FollowArtistButton } from \"Components/FollowButton/FollowArtistButton\"\nimport { AuthModalIntent, openAuthModal } from \"Utils/openAuthModal\"\n\nexport interface ArtistsProps {\n  artwork: ArtworkSidebarArtists_artwork\n}\n\ntype Artist = ArtworkSidebarArtists_artwork[\"artists\"][0]\n\nexport class ArtworkSidebarArtists extends React.Component<ArtistsProps> {\n  private renderArtistName(artist: Artist) {\n    return artist.href ? (\n      <Serif size=\"5t\" display=\"inline\" weight=\"semibold\" element=\"h1\">\n        <a href={artist.href}>{artist.name}</a>\n      </Serif>\n    ) : (\n      <Serif size=\"5t\" display=\"inline\" weight=\"semibold\" element=\"h1\">\n        {artist.name}\n      </Serif>\n    )\n  }\n\n  handleOpenAuth = (mediator, artist) => {\n    openAuthModal(mediator, {\n      entity: artist,\n      contextModule: Schema.ContextModule.ArtworkPage,\n      intent: AuthModalIntent.FollowArtist,\n    })\n  }\n\n  private renderSingleArtist(artist: Artist, user, mediator) {\n    return (\n      <React.Fragment>\n        {this.renderArtistName(artist)}\n        <FollowArtistButton\n          artist={artist}\n          user={user}\n          trackingData={{\n            modelName: Schema.OwnerType.Artist,\n            context_module: Schema.ContextModule.Sidebar,\n            context_page: \"Artwork page\",\n            entity_id: artist._id,\n            entity_slug: artist.id,\n          }}\n          onOpenAuthModal={() => this.handleOpenAuth(mediator, artist)}\n          triggerSuggestions\n          render={({ is_followed }) => {\n            return <FollowIcon isFollowed={is_followed} />\n          }}\n        >\n          Follow\n        </FollowArtistButton>\n      </React.Fragment>\n    )\n  }\n\n  renderMultipleArtists() {\n    const {\n      artwork: { artists },\n    } = this.props\n    return artists.map((artist, index) => {\n      return (\n        <React.Fragment key={artist.__id}>\n          {this.renderArtistName(artist)}\n          {index !== artists.length - 1 && \", \"}\n        </React.Fragment>\n      )\n    })\n  }\n\n  renderCulturalMaker(cultural_maker: string) {\n    return (\n      <Serif size=\"5t\" display=\"inline-block\" weight=\"semibold\">\n        {cultural_maker}\n      </Serif>\n    )\n  }\n  render() {\n    const {\n      artwork: { artists, cultural_maker },\n    } = this.props\n    return (\n      <SystemContextConsumer>\n        {({ user, mediator }) => {\n          return (\n            <Box>\n              {artists.length === 1\n                ? this.renderSingleArtist(artists[0], user, mediator)\n                : this.renderMultipleArtists()}\n              {artists.length === 0 &&\n                cultural_maker &&\n                this.renderCulturalMaker(cultural_maker)}\n            </Box>\n          )\n        }}\n      </SystemContextConsumer>\n    )\n  }\n}\n\nexport const ArtworkSidebarArtistsFragmentContainer = createFragmentContainer(\n  ArtworkSidebarArtists,\n  {\n    artwork: graphql`\n      fragment ArtworkSidebarArtists_artwork on Artwork\n        @argumentDefinitions(\n          showFollowSuggestions: { type: \"Boolean\", defaultValue: true }\n        ) {\n        cultural_maker\n        artists {\n          __id\n          _id\n          id\n          name\n          href\n          ...FollowArtistButton_artist\n            @arguments(showFollowSuggestions: $showFollowSuggestions)\n        }\n      }\n    `,\n  }\n)\n"],"file":"ArtworkSidebarArtists.js"}