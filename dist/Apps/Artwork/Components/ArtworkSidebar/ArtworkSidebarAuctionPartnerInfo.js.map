{"version":3,"sources":["../../../../../src/Apps/Artwork/Components/ArtworkSidebar/ArtworkSidebarAuctionPartnerInfo.tsx"],"names":["ArtworkSidebarAuctionPartnerInfo","context_module","Schema","ContextModule","Sidebar","action_type","ActionType","Click","subject","Subject","AuctionBuyerPremium","type","Type","Link","mediator","trigger","auctionId","props","artwork","sale","_id","partner","sale_artwork","is_closed","name","estimate","is_with_buyers_premium","onClickBuyerPremium","bind","React","Component","ArtworkSidebarAuctionPartnerInfoFragmentContainer"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;IASaA,gC,WADZ,uB,UAIE,sBAAM;AAAA,SAAO;AACZC,IAAAA,cAAc,EAAEC,MAAM,CAACC,aAAP,CAAqBC,OADzB;AAEZC,IAAAA,WAAW,EAAEH,MAAM,CAACI,UAAP,CAAkBC,KAFnB;AAGZC,IAAAA,OAAO,EAAEN,MAAM,CAACO,OAAP,CAAeC,mBAHZ;AAIZC,IAAAA,IAAI,EAAET,MAAM,CAACU,IAAP,CAAYC;AAJN,GAAP;AAAA,CAAN,C;;;;;;;;;;;;;wCAMmBC,Q,EAAU;AAC5BA,MAAAA,QAAQ,IACNA,QAAQ,CAACC,OADX,IAEED,QAAQ,CAACC,OAAT,CAAiB,yBAAjB,EAA4C;AAC1CC,QAAAA,SAAS,EAAE,KAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwBC;AADO,OAA5C,CAFF;AAKD;;;6BAEQ;AAAA;;AAAA,gCACiC,KAAKH,KAAL,CAAWC,OAD5C;AAAA,UACCG,OADD,uBACCA,OADD;AAAA,UACUC,YADV,uBACUA,YADV;AAAA,UACwBH,IADxB,uBACwBA,IADxB;;AAEP,UAAIA,IAAI,CAACI,SAAT,EAAoB;AAClB,eAAO,IAAP;AACD;;AACD,aACE,6BAAC,4BAAD,QACG;AAAA,YAAGT,QAAH,QAAGA,QAAH;AAAA,eACC,6BAAC,YAAD;AAAK,UAAA,EAAE,EAAE;AAAT,WACGO,OAAO,IACN,6BAAC,cAAD;AAAO,UAAA,IAAI,EAAC,GAAZ;AAAgB,UAAA,MAAM,EAAC,UAAvB;AAAkC,UAAA,KAAK,EAAC;AAAxC,WACGA,OAAO,CAACG,IADX,CAFJ,EAMGF,YAAY,IAAIA,YAAY,CAACG,QAA7B,IACC,6BAAC,cAAD;AAAO,UAAA,IAAI,EAAC,GAAZ;AAAgB,UAAA,KAAK,EAAC;AAAtB,gCACoBH,YAAY,CAACG,QADjC,CAPJ,EAWGN,IAAI,IAAIA,IAAI,CAACO,sBAAb,IACC,6BAAC,cAAD;AAAO,UAAA,IAAI,EAAC,GAAZ;AAAgB,UAAA,KAAK,EAAC;AAAtB,8BACkB,GADlB,EAEE,6BAAC,aAAD;AAAM,UAAA,OAAO,EAAE,KAAI,CAACC,mBAAL,CAAyBC,IAAzB,CAA8B,KAA9B,EAAoCd,QAApC;AAAf,6BAFF,MAZJ,CADD;AAAA,OADH,CADF;AA2BD;;;;EAjDmDe,eAAMC,S;;AAoDrD,IAAMC,iDAAiD,GAAG,yCAC/D/B,gCAD+D,EAE/D;AACEkB,EAAAA,OAAO;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AADT,CAF+D,CAA1D","sourcesContent":["import { Box, Link, Serif } from \"@artsy/palette\"\nimport { SystemContextConsumer } from \"Artsy\"\nimport { track } from \"Artsy/Analytics\"\nimport * as Schema from \"Artsy/Analytics/Schema\"\nimport React from \"react\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\n\nimport { ArtworkSidebarAuctionPartnerInfo_artwork } from \"__generated__/ArtworkSidebarAuctionPartnerInfo_artwork.graphql\"\n\nexport interface ArtworkSidebarAuctionPartnerInfoProps {\n  artwork: ArtworkSidebarAuctionPartnerInfo_artwork\n}\n\n@track()\nexport class ArtworkSidebarAuctionPartnerInfo extends React.Component<\n  ArtworkSidebarAuctionPartnerInfoProps\n> {\n  @track(() => ({\n    context_module: Schema.ContextModule.Sidebar,\n    action_type: Schema.ActionType.Click,\n    subject: Schema.Subject.AuctionBuyerPremium,\n    type: Schema.Type.Link,\n  }))\n  onClickBuyerPremium(mediator) {\n    mediator &&\n      mediator.trigger &&\n      mediator.trigger(\"openAuctionBuyerPremium\", {\n        auctionId: this.props.artwork.sale._id,\n      })\n  }\n\n  render() {\n    const { partner, sale_artwork, sale } = this.props.artwork\n    if (sale.is_closed) {\n      return null\n    }\n    return (\n      <SystemContextConsumer>\n        {({ mediator }) => (\n          <Box pb={3}>\n            {partner && (\n              <Serif size=\"2\" weight=\"semibold\" color=\"black100\">\n                {partner.name}\n              </Serif>\n            )}\n            {sale_artwork && sale_artwork.estimate && (\n              <Serif size=\"2\" color=\"black60\">\n                Estimated value: {sale_artwork.estimate}\n              </Serif>\n            )}\n            {sale && sale.is_with_buyers_premium && (\n              <Serif size=\"2\" color=\"black60\">\n                This work has a{\" \"}\n                <Link onClick={this.onClickBuyerPremium.bind(this, mediator)}>\n                  buyer's premium\n                </Link>\n                .\n              </Serif>\n            )}\n          </Box>\n        )}\n      </SystemContextConsumer>\n    )\n  }\n}\n\nexport const ArtworkSidebarAuctionPartnerInfoFragmentContainer = createFragmentContainer(\n  ArtworkSidebarAuctionPartnerInfo,\n  {\n    artwork: graphql`\n      fragment ArtworkSidebarAuctionPartnerInfo_artwork on Artwork {\n        partner {\n          name\n        }\n        sale_artwork {\n          estimate\n        }\n        sale {\n          _id\n          is_closed\n          is_with_buyers_premium\n        }\n      }\n    `,\n  }\n)\n"],"file":"ArtworkSidebarAuctionPartnerInfo.js"}