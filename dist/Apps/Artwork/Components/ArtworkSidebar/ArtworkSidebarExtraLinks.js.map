{"version":3,"sources":["../../../../../src/Apps/Artwork/Components/ArtworkSidebar/ArtworkSidebarExtraLinks.tsx"],"names":["Container","children","ArtworkSidebarExtraLinksContainer","context_module","Schema","ContextModule","Sidebar","action_type","ActionType","Click","subject","Subject","AuctionConditionsOfSale","type","Type","Link","AuctionFAQ","BNMOReadFAQ","CollectorFAQ","AuctionAskSpecialist","BNMOAskSpecialist","ConsignLearnMore","window","open","sd","APP_URL","props","mediator","trigger","artworkId","artwork","_id","onClickConditionsOfSale","bind","onClickAuctionFAQ","onClickAuctionAskSpecialist","is_acquireable","is_inquireable","onClickBuyNowFAQ","onClickBuyNowAskSpecialist","onClickCollectorFAQ","artistsCount","onClickConsign","consignableArtistsCount","artists","filter","artist","is_consignable","length","isInOpenAuction","is_in_auction","sale","is_closed","renderQuestionsLine","is_for_sale","renderAuctionTerms","renderAuctionQuestionsLine","renderForSaleQuestionsLine","renderConsignmentsLine","React","Component","ArtworkSidebarExtraLinks","SystemContext","ArtworkSidebarExtraLinksFragmentContainer"],"mappings":"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","sourcesContent":["import { Box, Link, Sans, Separator, Spacer } from \"@artsy/palette\"\nimport { Mediator, SystemContext } from \"Artsy\"\nimport { track } from \"Artsy/Analytics\"\nimport * as Schema from \"Artsy/Analytics/Schema\"\nimport React, { SFC, useContext } from \"react\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\nimport { data as sd } from \"sharify\"\n\nimport { ArtworkSidebarExtraLinks_artwork } from \"__generated__/ArtworkSidebarExtraLinks_artwork.graphql\"\n\nexport interface ArtworkSidebarExtraLinksProps {\n  artwork: ArtworkSidebarExtraLinks_artwork\n}\n\nexport interface ArtworkSidebarExtraLinksContainerProps\n  extends ArtworkSidebarExtraLinksProps {\n  mediator: Mediator\n}\n\nconst Container = ({ children }) => (\n  <Sans size=\"2\" color=\"black60\">\n    {children}\n  </Sans>\n)\n\n@track({\n  context_module: Schema.ContextModule.Sidebar,\n})\nclass ArtworkSidebarExtraLinksContainer extends React.Component<\n  ArtworkSidebarExtraLinksContainerProps\n> {\n  @track(() => ({\n    action_type: Schema.ActionType.Click,\n    subject: Schema.Subject.AuctionConditionsOfSale,\n    type: Schema.Type.Link,\n  }))\n  onClickConditionsOfSale() {\n    window.open(sd.APP_URL + \"/conditions-of-sale\", \"_blank\")\n  }\n\n  @track(() => ({\n    action_type: Schema.ActionType.Click,\n    subject: Schema.Subject.AuctionFAQ,\n    type: Schema.Type.Link,\n  }))\n  onClickAuctionFAQ() {\n    this.props.mediator &&\n      this.props.mediator.trigger &&\n      this.props.mediator.trigger(\"openAuctionFAQModal\")\n  }\n\n  @track(() => ({\n    action_type: Schema.ActionType.Click,\n    subject: Schema.Subject.BNMOReadFAQ,\n    type: Schema.Type.Link,\n  }))\n  onClickBuyNowFAQ() {\n    window.open(sd.APP_URL + \"/buy-now-feature-faq\", \"_blank\")\n  }\n\n  @track(() => ({\n    action_type: Schema.ActionType.Click,\n    subject: Schema.Subject.CollectorFAQ,\n    type: Schema.Type.Link,\n  }))\n  onClickCollectorFAQ() {\n    this.props.mediator &&\n      this.props.mediator.trigger &&\n      this.props.mediator.trigger(\"openCollectorFAQModal\")\n  }\n\n  @track(() => ({\n    action_type: Schema.ActionType.Click,\n    subject: Schema.Subject.AuctionAskSpecialist,\n    type: Schema.Type.Link,\n  }))\n  onClickAuctionAskSpecialist() {\n    this.props.mediator &&\n      this.props.mediator.trigger &&\n      this.props.mediator.trigger(\"openAuctionAskSpecialistModal\", {\n        artworkId: this.props.artwork._id,\n      })\n  }\n\n  @track(() => ({\n    action_type: Schema.ActionType.Click,\n    subject: Schema.Subject.BNMOAskSpecialist,\n    type: Schema.Type.Link,\n  }))\n  onClickBuyNowAskSpecialist() {\n    this.props.mediator &&\n      this.props.mediator.trigger &&\n      this.props.mediator.trigger(\"openBuyNowAskSpecialistModal\", {\n        artworkId: this.props.artwork._id,\n      })\n  }\n\n  @track(() => ({\n    action_type: Schema.ActionType.Click,\n    subject: Schema.Subject.ConsignLearnMore,\n    type: Schema.Type.Link,\n  }))\n  onClickConsign() {\n    window.open(sd.APP_URL + \"/consign\", \"_blank\")\n  }\n\n  renderAuctionTerms() {\n    return (\n      <Container>\n        By placing your bid you agree to Artsy's{\" \"}\n        <Link onClick={this.onClickConditionsOfSale.bind(this)}>\n          Conditions of Sale\n        </Link>\n        .<Spacer mb={1} />\n      </Container>\n    )\n  }\n  renderAuctionQuestionsLine() {\n    return (\n      <Container>\n        Have a question? Read our{\" \"}\n        <Link onClick={this.onClickAuctionFAQ.bind(this)}>auction FAQs</Link> or{\" \"}\n        <Link onClick={this.onClickAuctionAskSpecialist.bind(this)}>\n          ask a specialist\n        </Link>\n        .\n      </Container>\n    )\n  }\n  renderForSaleQuestionsLine() {\n    const { is_acquireable, is_inquireable } = this.props.artwork\n\n    if (is_acquireable)\n      return (\n        <Container>\n          Have a question?{\" \"}\n          <Link onClick={this.onClickBuyNowFAQ.bind(this)}>Read our FAQ</Link>{\" \"}\n          or{\" \"}\n          <Link onClick={this.onClickBuyNowAskSpecialist.bind(this)}>\n            ask a specialist\n          </Link>\n          .\n        </Container>\n      )\n\n    if (is_inquireable)\n      return (\n        <Container>\n          Have a question?{\" \"}\n          <Link onClick={this.onClickCollectorFAQ.bind(this)}>\n            Read our FAQ\n          </Link>\n          .\n        </Container>\n      )\n  }\n\n  renderConsignmentsLine(artistsCount) {\n    return (\n      <Container>\n        Want to sell a work by{\" \"}\n        {artistsCount === 1 ? \"this artist\" : \"these artists\"}?{\" \"}\n        <Link onClick={this.onClickConsign.bind(this)}>Consign with Artsy</Link>\n        .\n      </Container>\n    )\n  }\n\n  render() {\n    const { artwork } = this.props\n    const consignableArtistsCount = artwork.artists.filter(\n      artist => artist.is_consignable\n    ).length\n    const isInOpenAuction =\n      artwork.is_in_auction && artwork.sale && !artwork.sale.is_closed\n    const renderQuestionsLine = artwork.is_for_sale || isInOpenAuction\n    if (!renderQuestionsLine && !!!consignableArtistsCount) return null\n\n    return (\n      <Box>\n        <Separator mb={3} />\n        {isInOpenAuction && this.renderAuctionTerms()}\n        {renderQuestionsLine &&\n          (artwork.is_in_auction\n            ? this.renderAuctionQuestionsLine()\n            : this.renderForSaleQuestionsLine())}\n        {!!consignableArtistsCount &&\n          this.renderConsignmentsLine(consignableArtistsCount)}\n      </Box>\n    )\n  }\n}\n\nexport const ArtworkSidebarExtraLinks: SFC<\n  ArtworkSidebarExtraLinksProps\n> = props => {\n  const { mediator } = useContext(SystemContext)\n  return <ArtworkSidebarExtraLinksContainer {...props} mediator={mediator} />\n}\n\nexport const ArtworkSidebarExtraLinksFragmentContainer = createFragmentContainer(\n  ArtworkSidebarExtraLinks,\n  {\n    artwork: graphql`\n      fragment ArtworkSidebarExtraLinks_artwork on Artwork {\n        _id\n        is_in_auction\n        is_for_sale\n        is_acquireable\n        is_inquireable\n        artists {\n          is_consignable\n        }\n        sale {\n          is_closed\n        }\n      }\n    `,\n  }\n)\n"],"file":"ArtworkSidebarExtraLinks.js"}