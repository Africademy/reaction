{"version":3,"sources":["../../../../../../../../src/Apps/Collect2/Routes/Collection/Components/CollectionsHubRails/FeaturedCollectionsRails/index.tsx"],"names":["renderCarousel","members","trackArrowClick","carouselHeight","wrapAround","sd","IS_MOBILE","pageDots","slide","slideIndex","FeaturedCollectionsRails","collectionGroup","name","trackEvent","action_type","Schema","ActionType","Click","context_module","ContextModule","FeaturedCollectionsRail","context_page_owner_type","OwnerType","Collection","context_page","PageName","CollectionPage","type","Type","Button","subject","Subject","ClickedNextButton","FeaturedCollectionEntity","itemNumber","member","description","price_guidance","slug","thumbnail","title","formattedPrice","separator","precision","format","handleClick","Thumbnail","destination_path","APP_URL","item_number","getTruncatedDescription","lines","__html","FeaturedCollectionsRailsContainer","Container","Box","FeaturedCollectionsContainer","ExtendedSerif","Serif","FeaturedImage","ResponsiveImage","ArrowContainer","ArrowButton","StyledLink","RouterLink","ReadMoreLink","Sans"],"mappings":"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","sourcesContent":["import {\n  Box,\n  color,\n  Flex,\n  ResponsiveImage,\n  Sans,\n  Serif,\n  Spacer,\n} from \"@artsy/palette\"\nimport { FeaturedCollectionsRails_collectionGroup } from \"__generated__/FeaturedCollectionsRails_collectionGroup.graphql\"\nimport * as Schema from \"Artsy/Analytics/Schema\"\nimport { useTracking } from \"Artsy/Analytics/useTracking\"\nimport { RouterLink } from \"Artsy/Router/RouterLink\"\nimport { Truncator } from \"Components/Truncator\"\nimport { ArrowButton, Carousel } from \"Components/v2\"\nimport currency from \"currency.js\"\nimport React from \"react\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\nimport { data as sd } from \"sharify\"\nimport styled from \"styled-components\"\nimport { Media } from \"Utils/Responsive\"\n\ninterface Props {\n  collectionGroup: FeaturedCollectionsRails_collectionGroup\n}\n\nexport const renderCarousel = (\n  members,\n  trackArrowClick,\n  carouselHeight: string\n) => {\n  return (\n    <Carousel\n      height={carouselHeight}\n      options={{\n        wrapAround: sd.IS_MOBILE ? true : false,\n        pageDots: false,\n      }}\n      data={members}\n      render={(slide, slideIndex) => {\n        return (\n          <FeaturedCollectionEntity member={slide} itemNumber={slideIndex} />\n        )\n      }}\n      onArrowClick={() => trackArrowClick()}\n    />\n  )\n}\n\nexport const FeaturedCollectionsRails: React.FC<Props> = ({\n  collectionGroup,\n}) => {\n  const { members, name } = collectionGroup\n  const { trackEvent } = useTracking()\n\n  const trackArrowClick = () => {\n    trackEvent({\n      action_type: Schema.ActionType.Click,\n      context_module: Schema.ContextModule.FeaturedCollectionsRail,\n      context_page_owner_type: Schema.OwnerType.Collection,\n      context_page: Schema.PageName.CollectionPage,\n      type: Schema.Type.Button,\n      subject: Schema.Subject.ClickedNextButton,\n    })\n  }\n\n  return (\n    <FeaturedCollectionsContainer>\n      <Serif size=\"5\" mt={3}>\n        {name}\n      </Serif>\n      <Media lessThan=\"md\">\n        {renderCarousel(members, trackArrowClick, \"430px\")}\n      </Media>\n      <Media greaterThanOrEqual=\"md\">\n        {renderCarousel(members, trackArrowClick, \"500px\")}\n      </Media>\n      <Spacer pb={2} />\n    </FeaturedCollectionsContainer>\n  )\n}\n\ninterface FeaturedCollectionEntityProps {\n  member: any\n  itemNumber: number\n}\n\nexport const FeaturedCollectionEntity: React.FC<\n  FeaturedCollectionEntityProps\n> = ({ itemNumber, member }) => {\n  const { description, price_guidance, slug, thumbnail, title } = member\n  const { trackEvent } = useTracking()\n  const formattedPrice = currency(price_guidance, {\n    separator: \",\",\n    precision: 0,\n  }).format()\n\n  const handleClick = () => {\n    trackEvent({\n      action_type: Schema.ActionType.Click,\n      context_page: Schema.PageName.CollectionPage,\n      context_module: Schema.ContextModule.FeaturedCollectionsRail,\n      context_page_owner_type: Schema.OwnerType.Collection,\n      type: Schema.Type.Thumbnail,\n      destination_path: `${sd.APP_URL}/collection/${slug}`,\n      item_number: itemNumber,\n    })\n  }\n\n  const getTruncatedDescription = (lines: number) => {\n    return (\n      <Truncator\n        maxLineCount={lines}\n        ReadMoreLink={() => {\n          return (\n            <>\n              {`... `}\n              <ReadMoreLink size=\"2\" weight=\"medium\" display=\"inline\">\n                Read more\n              </ReadMoreLink>\n            </>\n          )\n        }}\n      >\n        <>\n          {description && (\n            <span dangerouslySetInnerHTML={{ __html: description }} />\n          )}\n        </>\n      </Truncator>\n    )\n  }\n\n  return (\n    <Container p={2} m={1} width={[\"261px\", \"261px\", \"355px\", \"355px\"]}>\n      <StyledLink to={`/collection/${slug}`} onClick={handleClick}>\n        <Flex height={[\"190px\", \"190px\", \"280px\", \"280px\"]}>\n          <FeaturedImage src={thumbnail} />\n        </Flex>\n        <Serif size=\"4\" mt={1} maxWidth={[\"246px\", \"100%\"]}>\n          <Truncator maxLineCount={1}>{title}</Truncator>\n        </Serif>\n        {price_guidance && (\n          <Sans size=\"2\" color=\"black60\">{`From $${formattedPrice}`}</Sans>\n        )}\n        <ExtendedSerif size=\"3\" mt={1}>\n          <Media lessThan=\"md\">{getTruncatedDescription(4)}</Media>\n          <Media greaterThan=\"sm\">{getTruncatedDescription(3)}</Media>\n        </ExtendedSerif>\n      </StyledLink>\n    </Container>\n  )\n}\n\nexport const FeaturedCollectionsRailsContainer = createFragmentContainer(\n  FeaturedCollectionsRails,\n  {\n    collectionGroup: graphql`\n      fragment FeaturedCollectionsRails_collectionGroup on MarketingCollectionGroup {\n        groupType\n        name\n        members {\n          id\n          slug\n          title\n          description\n          price_guidance\n          thumbnail\n        }\n      }\n    `,\n  }\n)\n\nconst Container = styled(Box)`\n  border: 1px solid ${color(\"black10\")};\n  border-radius: 2px;\n\n  &:hover {\n    text-decoration: none;\n    border: 1px solid ${color(\"black60\")};\n  }\n`\n\nconst FeaturedCollectionsContainer = styled(Box)`\n  border-top: 1px solid ${color(\"black10\")};\n\n  ${Container} {\n    &:first-of-type {\n      margin-left: 2px;\n    }\n  }\n`\n\nconst ExtendedSerif = styled(Serif)`\n  div span {\n    span p {\n      display: inline;\n    }\n\n    div p {\n      display: inline;\n    }\n  }\n`\nexport const FeaturedImage = styled(ResponsiveImage)`\n  background-position: top;\n`\n\nexport const ArrowContainer = styled(Box)`\n  align-self: flex-start;\n\n  ${ArrowButton} {\n    height: 100%;\n  }\n`\n\nexport const StyledLink = styled(RouterLink)`\n  text-decoration: none;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n\n  &:hover {\n    text-decoration: none;\n  }\n`\n\nconst ReadMoreLink = styled(Sans)`\n    text-decoration: underline;\n`\n"],"file":"index.js"}