{"version":3,"sources":["../../../../src/Artsy/Relay/middleware/metaphysicsErrorHandlerMiddleware.ts"],"names":["metaphysicsErrorHandlerMiddleware","checkStatus","next","req","response","status","error","NetworkError","statusText"],"mappings":";;;;;;;;;;;;;AAAA;;;;;;AAEO,SAASA,iCAAT,OAIJ;AAAA,MAHDC,WAGC,QAHDA,WAGC;AACD,SAAO,UAAAC,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAAI,iBAAMC,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACUD,IAAI,CAACC,GAAD,CADd;;AAAA;AACPC,kBAAAA,QADO;;AAAA,wBAET,CAACH,WAAD,IAAiBG,QAAQ,CAACC,MAAT,IAAmB,GAAnB,IAA0BD,QAAQ,CAACC,MAAT,GAAkB,GAFpD;AAAA;AAAA;AAAA;;AAAA,mDAGJD,QAHI;;AAAA;AAKLE,kBAAAA,KALK,GAKG,IAAIC,oBAAJ,CAAiBH,QAAQ,CAACI,UAA1B,CALH;AAMXF,kBAAAA,KAAK,CAACF,QAAN,GAAiBA,QAAjB;AANW,wBAOLE,KAPK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAX;AAUD","sourcesContent":["import { NetworkError } from \"Utils/errors\"\n\nexport function metaphysicsErrorHandlerMiddleware({\n  checkStatus,\n}: {\n  checkStatus: boolean\n}) {\n  return next => async req => {\n    const response = await next(req)\n    if (!checkStatus || (response.status >= 200 && response.status < 300)) {\n      return response\n    } else {\n      const error = new NetworkError(response.statusText)\n      error.response = response\n      throw error\n    }\n  }\n}\n"],"file":"metaphysicsErrorHandlerMiddleware.js"}