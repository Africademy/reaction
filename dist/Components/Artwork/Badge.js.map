{"version":3,"sources":["../../../src/Components/Artwork/Badge.tsx"],"names":["MIN_IMAGE_SIZE","Badge","artwork","props","is_biddable","is_acquireable","is_offerable","href","sale","includeBidBadge","is_preview","saleTimingHint","display_timely_at","stackedLayout","p","width","window","devicePixelRatio","React","Component","Label","Box","BadgeLink","Link","Badges","Flex"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;AAEA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;AAOA,IAAMA,cAAc,GAAG,GAAvB;;IAEMC,K;;;;;;;;;;;;;6BASK;AAAA,UACCC,OADD,GACa,KAAKC,KADlB,CACCD,OADD;AAAA,UAECE,WAFD,GAE2DF,OAF3D,CAECE,WAFD;AAAA,UAEcC,cAFd,GAE2DH,OAF3D,CAEcG,cAFd;AAAA,UAE8BC,YAF9B,GAE2DJ,OAF3D,CAE8BI,YAF9B;AAAA,UAE4CC,IAF5C,GAE2DL,OAF3D,CAE4CK,IAF5C;AAAA,UAEkDC,IAFlD,GAE2DN,OAF3D,CAEkDM,IAFlD;AAGP,UAAMC,eAAe,GAAGL,WAAW,IAAKI,IAAI,IAAIA,IAAI,CAACE,UAArD,CAHO,CAIP;;AACA,UAAMC,cAAc,GAClBH,IAAI,IAAIA,IAAI,CAACI,iBAAb,eAAsCJ,IAAI,CAACI,iBAA3C,SAAkE,EADpE;AAEA,aACE,4DACE,6BAAC,MAAD;AAAQ,QAAA,aAAa,EAAE,KAAKC,aAAL,GAAqB,QAArB,GAAgC;AAAvD,SACGJ,eAAe,IACd,6BAAC,KAAD,QACE,6BAAC,aAAD;AAAM,QAAA,IAAI,EAAC;AAAX,gBAAmBE,cAAnB,CADF,CAFJ,EAMGN,cAAc,IACb,6BAAC,KAAD,QACE,6BAAC,SAAD;AAAW,QAAA,IAAI,EAAEE,IAAjB;AAAuB,QAAA,iBAAiB,EAAC;AAAzC,SACE,6BAAC,aAAD;AAAM,QAAA,IAAI,EAAC;AAAX,mBADF,CADF,CAPJ,EAaGD,YAAY,IACX,6BAAC,KAAD,QACE,6BAAC,SAAD;AAAW,QAAA,IAAI,EAAEC,IAAjB;AAAuB,QAAA,iBAAiB,EAAC;AAAzC,SACE,6BAAC,aAAD;AAAM,QAAA,IAAI,EAAC;AAAX,sBADF,CADF,CAdJ,CADF,CADF;AAyBD;;;wBAxCmB;AAClB,aAAO,eACL,KAAKJ,KADA,EAEL,UAAAW,CAAC;AAAA,eAAIA,CAAC,CAACC,KAAF,GAAUC,MAAM,CAACC,gBAAjB,GAAoCjB,cAAxC;AAAA,OAFI,EAGL,KAHK,CAAP;AAKD;;;;EAPiBkB,eAAMC,S;;eA4CX,yCAAwBlB,KAAxB,EAA+B;AAC5CC,EAAAA,OAAO;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AADqC,CAA/B,C;;;AAef,IAAMkB,KAAK,GAAG,+BAAOC,YAAP,CAAH;AAAA;AAAA;AAAA,oMAOM,oBAAM,GAAN,CAPN,EAQK,oBAAM,GAAN,CARL,CAAX;AAWA,IAAMC,SAAS,GAAG,+BAAOC,aAAP,CAAH;AAAA;AAAA;AAAA,uBAAf;AAIA,IAAMC,MAAM,GAAG,+BAAOC,aAAP,CAAH;AAAA;AAAA;AAAA,kEAAZ","sourcesContent":["import { Box, Flex, Link, Sans, space } from \"@artsy/palette\"\nimport { Badge_artwork } from \"__generated__/Badge_artwork.graphql\"\nimport React from \"react\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\nimport styled from \"styled-components\"\nimport { get } from \"Utils/get\"\n\ninterface BadgeProps {\n  artwork: Badge_artwork\n  width?: number // for smaller images, we have a tweaked layout\n}\n\nconst MIN_IMAGE_SIZE = 150\n\nclass Badge extends React.Component<BadgeProps> {\n  get stackedLayout() {\n    return get(\n      this.props,\n      p => p.width / window.devicePixelRatio < MIN_IMAGE_SIZE,\n      false\n    )\n  }\n\n  render() {\n    const { artwork } = this.props\n    const { is_biddable, is_acquireable, is_offerable, href, sale } = artwork\n    const includeBidBadge = is_biddable || (sale && sale.is_preview)\n    // E.g.(ENDS IN 59M)\n    const saleTimingHint =\n      sale && sale.display_timely_at ? ` (${sale.display_timely_at})` : \"\"\n    return (\n      <>\n        <Badges flexDirection={this.stackedLayout ? \"column\" : \"row\"}>\n          {includeBidBadge && (\n            <Label>\n              <Sans size=\"0\">Bid{saleTimingHint}</Sans>\n            </Label>\n          )}\n          {is_acquireable && (\n            <Label>\n              <BadgeLink href={href} underlineBehavior=\"none\">\n                <Sans size=\"0\">Buy Now</Sans>\n              </BadgeLink>\n            </Label>\n          )}\n          {is_offerable && (\n            <Label>\n              <BadgeLink href={href} underlineBehavior=\"none\">\n                <Sans size=\"0\">Make Offer</Sans>\n              </BadgeLink>\n            </Label>\n          )}\n        </Badges>\n      </>\n    )\n  }\n}\n\nexport default createFragmentContainer(Badge, {\n  artwork: graphql`\n    fragment Badge_artwork on Artwork {\n      is_biddable\n      is_acquireable\n      is_offerable\n      href\n      sale {\n        is_preview\n        display_timely_at\n      }\n    }\n  `,\n})\n\nconst Label = styled(Box)`\n  border-radius: 2px;\n  letter-spacing: 0.3px;\n  padding: 3px 5px 1px 6px;\n  background-color: white;\n  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.1);\n  text-transform: uppercase;\n  margin-left: ${space(0.5)}px;\n  margin-top: ${space(0.5)}px;\n`\n\nconst BadgeLink = styled(Link)`\n  cursor: pointer;\n`\n\nconst Badges = styled(Flex)`\n  position: absolute;\n  bottom: 8px;\n  left: 3px;\n  pointer-events: none;\n`\n"],"file":"Badge.js"}