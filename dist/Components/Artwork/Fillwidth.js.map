{"version":3,"sources":["../../../src/Components/Artwork/Fillwidth.tsx"],"names":["FillwidthContainer","artwork","dimensions","i","gutter","props","artworkSize","__id","height","width","length","artworks","edges","size","targetHeight","className","map","renderArtwork","node","React","Component","StyledFillwidth","defaultProps","sizeMeOptions","monitorHeight","refreshRate","refreshMode","Fillwidth"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;IASMA,kB;;;;;;;;;;;;;kCACUC,O,EAASC,U,EAAYC,C,EAAG;AAAA,UAC5BC,MAD4B,GACjB,KAAKC,KADY,CAC5BD,MAD4B;AAEpC,UAAME,WAAW,GAAG,oBAAKJ,UAAL,EAAiB,CAAC,MAAD,EAASD,OAAO,CAACM,IAAjB,CAAjB,CAApB;AAEA,aACE,6BAAC,sBAAD;AACE,QAAA,OAAO,EAAEN,OADX;AAEE,QAAA,GAAG,EAAE,cAAcA,OAAO,CAACM,IAF7B;AAGE,QAAA,YAAY,EAAED,WAAW,CAACE,MAH5B;AAIE,QAAA,WAAW,EAAEF,WAAW,CAACE,MAJ3B;AAKE,QAAA,KAAK,EAAEF,WAAW,CAACG,KALrB;AAME,QAAA,MAAM,EAAEN,CAAC,KAAKD,UAAU,CAACQ,MAAX,GAAoB,CAA1B,GAA8B,CAA9B,GAAkCN;AAN5C,QADF;AAUD;;;6BAEQ;AAAA;;AACP,UAAMO,QAAQ,GAAG,KAAKN,KAAL,CAAWM,QAAX,CAAoBC,KAArC;AACA,UAAMV,UAAU,GAAG,wBACjB,KAAKG,KAAL,CAAWM,QAAX,CAAoBC,KADH,EAEjB,KAAKP,KAAL,CAAWQ,IAAX,CAAgBJ,KAFC,EAGjB,KAAKJ,KAAL,CAAWD,MAHM,EAIjB,KAAKC,KAAL,CAAWS,YAJM,CAAnB;AAMA,aACE;AAAK,QAAA,SAAS,EAAE,KAAKT,KAAL,CAAWU;AAA3B,SACGJ,QAAQ,CAACK,GAAT,CAAa,UAACf,OAAD,EAAUE,CAAV;AAAA,eACZ,KAAI,CAACc,aAAL,CAAmBhB,OAAO,CAACiB,IAA3B,EAAiChB,UAAjC,EAA6CC,CAA7C,CADY;AAAA,OAAb,CADH,CADF;AAOD;;;;EAhC8BgB,eAAMC,S;;AAmCvC,IAAMC,eAAe,GAAG,+BAAOrB,kBAAP,CAAH;AAAA;AAAA;AAAA,2BAArB;AAIAqB,eAAe,CAACC,YAAhB,GAA+B;AAC7BR,EAAAA,YAAY,EAAE,GADe;AAE7BV,EAAAA,MAAM,EAAE;AAFqB,CAA/B;AAKA,IAAMmB,aAAa,GAAG;AACpBC,EAAAA,aAAa,EAAE,KADK;AAEpBC,EAAAA,WAAW,EAAE,EAFO;AAGpBC,EAAAA,WAAW,EAAE;AAHO,CAAtB;AAMO,IAAMC,SAAS,GAAG,0BAAOJ,aAAP,EACvBF,eADuB,CAAlB;;;eAIQ,yCAAwBM,SAAxB,EAAmC;AAChDhB,EAAAA,QAAQ;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AADwC,CAAnC,C","sourcesContent":["import { Fillwidth_artworks } from \"__generated__/Fillwidth_artworks.graphql\"\nimport { find } from \"lodash\"\nimport React from \"react\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\nimport sizeMe from \"react-sizeme\"\nimport styled from \"styled-components\"\nimport fillwidthDimensions from \"../../Utils/fillwidth\"\nimport FillwidthItem from \"./FillwidthItem\"\n\ninterface Props extends React.HTMLAttributes<FillwidthContainer> {\n  targetHeight?: number\n  gutter?: number\n  size?: any\n  artworks: Fillwidth_artworks\n}\n\nclass FillwidthContainer extends React.Component<Props, null> {\n  renderArtwork(artwork, dimensions, i) {\n    const { gutter } = this.props\n    const artworkSize = find(dimensions, [\"__id\", artwork.__id])\n\n    return (\n      <FillwidthItem\n        artwork={artwork}\n        key={\"artwork--\" + artwork.__id}\n        targetHeight={artworkSize.height}\n        imageHeight={artworkSize.height}\n        width={artworkSize.width}\n        margin={i === dimensions.length - 1 ? 0 : gutter}\n      />\n    )\n  }\n\n  render() {\n    const artworks = this.props.artworks.edges\n    const dimensions = fillwidthDimensions(\n      this.props.artworks.edges,\n      this.props.size.width,\n      this.props.gutter,\n      this.props.targetHeight\n    )\n    return (\n      <div className={this.props.className}>\n        {artworks.map((artwork, i) =>\n          this.renderArtwork(artwork.node, dimensions, i)\n        )}\n      </div>\n    )\n  }\n}\n\nconst StyledFillwidth = styled(FillwidthContainer)`\n  margin-bottom: 50px;\n`\n\nStyledFillwidth.defaultProps = {\n  targetHeight: 180,\n  gutter: 10,\n}\n\nconst sizeMeOptions = {\n  monitorHeight: false,\n  refreshRate: 64,\n  refreshMode: \"debounce\",\n}\n\nexport const Fillwidth = sizeMe(sizeMeOptions)(\n  StyledFillwidth\n) as React.StatelessComponent<Props>\n\nexport default createFragmentContainer(Fillwidth, {\n  artworks: graphql`\n    fragment Fillwidth_artworks on ArtworkConnection {\n      edges {\n        node {\n          __id\n          image {\n            aspect_ratio\n          }\n          ...FillwidthItem_artwork\n        }\n      }\n    }\n  `,\n})\n"],"file":"Fillwidth.js"}