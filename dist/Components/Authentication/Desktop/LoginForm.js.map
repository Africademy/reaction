{"version":3,"sources":["../../../../src/Components/Authentication/Desktop/LoginForm.tsx"],"names":["LoginForm","error","props","values","formikBag","handleSubmit","onSubmit","LoginValidator","errors","touched","formikHandleChange","handleChange","handleBlur","isSubmitting","status","setStatus","globalError","state","success","e","setState","email","password","handleTypeChange","ModalType","forgot","signup","onFacebookLogin","Component"],"mappings":"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","sourcesContent":["import { Flex } from \"@artsy/palette\"\nimport {\n  Error,\n  Footer,\n  ForgotPassword,\n  FormContainer as Form,\n  SubmitButton,\n} from \"Components/Authentication/commonElements\"\nimport {\n  FormProps,\n  InputValues,\n  ModalType,\n} from \"Components/Authentication/Types\"\nimport { LoginValidator } from \"Components/Authentication/Validators\"\nimport PasswordInput from \"Components/PasswordInput\"\nimport QuickInput from \"Components/QuickInput\"\nimport { Formik, FormikProps } from \"formik\"\nimport React, { Component } from \"react\"\nimport { repcaptcha } from \"Utils/repcaptcha\"\n\nexport interface LoginFormState {\n  error: string\n}\n\nexport class LoginForm extends Component<FormProps, LoginFormState> {\n  state = {\n    error: this.props.error,\n  }\n\n  onSubmit = (values: InputValues, formikBag: FormikProps<InputValues>) => {\n    repcaptcha(\"login_submit\")\n    this.props.handleSubmit(values, formikBag)\n  }\n\n  render() {\n    return (\n      <Formik\n        initialValues={this.props.values}\n        onSubmit={this.onSubmit}\n        validationSchema={LoginValidator}\n      >\n        {({\n          values,\n          errors,\n          touched,\n          handleChange: formikHandleChange,\n          handleBlur,\n          handleSubmit,\n          isSubmitting,\n          status,\n          setStatus,\n        }: FormikProps<InputValues>) => {\n          const globalError =\n            this.state.error || (status && !status.success && status.error)\n\n          const handleChange = e => {\n            setStatus(null)\n            this.setState({ error: null })\n            formikHandleChange(e)\n          }\n\n          return (\n            <Form onSubmit={handleSubmit}>\n              <QuickInput\n                block\n                error={touched.email && errors.email}\n                placeholder=\"Enter your email address\"\n                name=\"email\"\n                label=\"Email\"\n                type=\"email\"\n                value={values.email}\n                onChange={handleChange}\n                onBlur={handleBlur}\n                autoFocus\n              />\n              <PasswordInput\n                block\n                error={touched.password && errors.password}\n                placeholder=\"Enter your password\"\n                name=\"password\"\n                label=\"Password\"\n                value={values.password}\n                onChange={handleChange}\n                onBlur={handleBlur}\n              />\n              <Flex alignItems=\"center\" justifyContent=\"flex-end\">\n                <ForgotPassword\n                  onClick={() => this.props.handleTypeChange(ModalType.forgot)}\n                />\n              </Flex>\n              {globalError && <Error show>{globalError}</Error>}\n              <SubmitButton loading={isSubmitting}>Log in</SubmitButton>\n              <Footer\n                handleTypeChange={() =>\n                  this.props.handleTypeChange(ModalType.signup)\n                }\n                mode={\"login\" as ModalType}\n                onFacebookLogin={this.props.onFacebookLogin}\n                inline\n              />\n            </Form>\n          )\n        }}\n      </Formik>\n    )\n  }\n}\n"],"file":"LoginForm.js"}