{"version":3,"sources":["../../../src/Components/Onboarding/Wizard.tsx"],"names":["STEPS","CollectorIntentComponent","slug","Artists","Genes","BudgetComponent","Wizard","dispatch","data","Events","postEvent","props","increaseBy","history","push","indexOf","location","pathname","setState","finished","setTimeout","window","href","redirectTo","tracking","trackEvent","action","state","length","onNextButtonPressed","onFinish","RegExp","exec","React","Component"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { Redirect, Route } from \"react-router\"\n\nimport track, { TrackingProp } from \"react-tracking\"\nimport Events from \"../../Utils/Events\"\nimport { ProgressIndicator } from \"../ProgressIndicator\"\n\nimport Artists from \"./Steps/Artists\"\nimport Budget, { BudgetComponent } from \"./Steps/Budget\"\nimport CollectorIntent, {\n  CollectorIntentComponent,\n} from \"./Steps/CollectorIntent\"\nimport Genes from \"./Steps/Genes\"\n\nconst STEPS = [\n  `/personalize/${CollectorIntentComponent.slug}`,\n  `/personalize/${Artists.slug}`,\n  `/personalize/${Genes.slug}`,\n  `/personalize/${BudgetComponent.slug}`,\n]\n\nexport interface Props {\n  redirectTo?: string\n  tracking?: TrackingProp\n}\n\nexport interface State {\n  finished: boolean\n}\n\n@track({}, { dispatch: data => Events.postEvent(data) })\nexport class Wizard extends React.Component<Props, State> {\n  constructor(props) {\n    super(props)\n    this.state = {\n      finished: false,\n    }\n  }\n\n  onNextButtonPressed = (increaseBy: number, history) => {\n    history.push(STEPS[STEPS.indexOf(location.pathname) + increaseBy])\n  }\n\n  onFinish = () => {\n    this.setState({ finished: true })\n    setTimeout(() => (window.location.href = this.props.redirectTo || \"/\"), 500)\n\n    this.props.tracking.trackEvent({\n      action: \"Completed Onboarding\",\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <Route\n          path=\"/personalize/*\"\n          render={() => (\n            <ProgressIndicator\n              percentComplete={\n                this.state.finished\n                  ? 1\n                  : STEPS.indexOf(location.pathname) / STEPS.length\n              }\n            />\n          )}\n        />\n\n        <Route\n          path={`/personalize/${CollectorIntentComponent.slug}`}\n          render={props => (\n            <CollectorIntent\n              {...props}\n              onNextButtonPressed={(increaseBy = 1) =>\n                this.onNextButtonPressed(increaseBy, props.history)\n              }\n            />\n          )}\n        />\n        <Route\n          path={`/personalize/${Artists.slug}`}\n          render={props => (\n            <Artists\n              {...props}\n              onNextButtonPressed={(increaseBy = 1) =>\n                this.onNextButtonPressed(increaseBy, props.history)\n              }\n            />\n          )}\n        />\n        <Route\n          path={`/personalize/${Genes.slug}`}\n          render={props => (\n            <Genes\n              {...props}\n              onNextButtonPressed={(increaseBy = 1) =>\n                this.onNextButtonPressed(increaseBy, props.history)\n              }\n            />\n          )}\n        />\n        <Route\n          path={`/personalize/${BudgetComponent.slug}`}\n          render={props => (\n            <Budget {...props} onNextButtonPressed={() => this.onFinish()} />\n          )}\n        />\n\n        {new RegExp(\n          `^/personalize(?!(/${CollectorIntentComponent.slug}|/${\n            Artists.slug\n          }|/${Genes.slug}|/${BudgetComponent.slug})).*$`\n        ).exec(location.pathname) && (\n          <Redirect to={`/personalize/${CollectorIntentComponent.slug}`} />\n        )}\n      </div>\n    )\n  }\n}\n"],"file":"Wizard.js"}