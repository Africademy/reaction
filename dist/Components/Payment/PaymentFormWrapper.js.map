{"version":3,"sources":["../../../src/Components/Payment/PaymentFormWrapper.tsx"],"names":["PaymentFormWrapper","stripe","window","Stripe","setState","sd","STRIPE_PUBLISHABLE_KEY","document","querySelector","addEventListener","state","props","relay","me","React","Component"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;AAEA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;IAiBaA,kB;;;;;;;;;;;;;;;;;;4DAIH;AAAEC,MAAAA,MAAM,EAAE;AAAV,K;;;;;;;wCAEY;AAAA;;AAClB,UAAIC,MAAM,CAACC,MAAX,EAAmB;AACjB,aAAKC,QAAL,CAAc;AACZH,UAAAA,MAAM,EAAEC,MAAM,CAACC,MAAP,CAAcE,cAAGC,sBAAjB;AADI,SAAd;AAGD,OAJD,MAIO;AACLC,QAAAA,QAAQ,CAACC,aAAT,CAAuB,YAAvB,EAAqCC,gBAArC,CAAsD,MAAtD,EAA8D,YAAM;AAClE;AACA,UAAA,MAAI,CAACL,QAAL,CAAc;AACZH,YAAAA,MAAM,EAAEC,MAAM,CAACC,MAAP,CAAcE,cAAGC,sBAAjB;AADI,WAAd;AAGD,SALD;AAMD;AACF;;;6BAEQ;AACP,aACE,6BAAC,mCAAD;AAAgB,QAAA,MAAM,EAAE,KAAKI,KAAL,CAAWT;AAAnC,SACE,6BAAC,6BAAD,QACE,6BAAC,oBAAD;AAAa,QAAA,KAAK,EAAE,KAAKU,KAAL,CAAWC,KAA/B;AAAsC,QAAA,EAAE,EAAE,KAAKD,KAAL,CAAWE;AAArD,QADF,CADF,CADF;AAOD;;;;EA7BqCC,eAAMC,S","sourcesContent":["import React from \"react\"\nimport { RelayProp } from \"react-relay\"\nimport { Elements, StripeProvider } from \"react-stripe-elements\"\nimport { data as sd } from \"sharify\"\nimport PaymentForm from \"./PaymentForm\"\n\ndeclare global {\n  interface Window {\n    Stripe?: (key: string) => stripe.Stripe\n  }\n}\n\ninterface PaymentFormWrapperState {\n  stripe: stripe.Stripe\n}\n\nexport interface PaymentFormWrapperProps {\n  relay?: RelayProp\n  me: any\n}\n\nexport class PaymentFormWrapper extends React.Component<\n  PaymentFormWrapperProps,\n  PaymentFormWrapperState\n> {\n  state = { stripe: null }\n\n  componentDidMount() {\n    if (window.Stripe) {\n      this.setState({\n        stripe: window.Stripe(sd.STRIPE_PUBLISHABLE_KEY),\n      })\n    } else {\n      document.querySelector(\"#stripe-js\").addEventListener(\"load\", () => {\n        // Create Stripe instance once Stripe.js loads\n        this.setState({\n          stripe: window.Stripe(sd.STRIPE_PUBLISHABLE_KEY),\n        })\n      })\n    }\n  }\n\n  render() {\n    return (\n      <StripeProvider stripe={this.state.stripe}>\n        <Elements>\n          <PaymentForm relay={this.props.relay} me={this.props.me} />\n        </Elements>\n      </StripeProvider>\n    )\n  }\n}\n"],"file":"PaymentFormWrapper.js"}