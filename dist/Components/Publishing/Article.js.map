{"version":3,"sources":["../../../src/Components/Publishing/Article.tsx"],"names":["GPT","enableSingleRequest","Article","props","page","entity_type","entity_id","article","id","dispatch","data","Events","postEvent","customEditorial","layout","isLoggedIn","isTruncated","isMobile","sponsor","pixel_tracking_code","seriesArticle","trackingCode","sponsorPixelTrackingCode","getArticleLayout","renderTime","shouldRenderSignUpCta","React","Component"],"mappings":"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","sourcesContent":["import { Theme } from \"@artsy/palette\"\nimport React from \"react\"\n\nimport { BannerWrapper } from \"Components/Publishing/Banner/Banner\"\nimport { PixelTracker } from \"Components/Publishing/Display/ExternalTrackers\"\nimport { EditorialFeature } from \"Components/Publishing/EditorialFeature/EditorialFeature\"\nimport ArticleWithFullScreen from \"Components/Publishing/Layouts/ArticleWithFullScreen\"\nimport { ClassicLayout } from \"Components/Publishing/Layouts/ClassicLayout\"\nimport { FeatureLayout } from \"Components/Publishing/Layouts/FeatureLayout\"\nimport { NewsLayout } from \"Components/Publishing/Layouts/NewsLayout\"\nimport { SeriesLayout } from \"Components/Publishing/Layouts/SeriesLayout\"\nimport { StandardLayout } from \"Components/Publishing/Layouts/StandardLayout\"\nimport { VideoLayout } from \"Components/Publishing/Layouts/VideoLayout\"\nimport { FullScreenProvider } from \"Components/Publishing/Sections/FullscreenViewer/FullScreenProvider\"\nimport { TooltipsDataProvider } from \"Components/Publishing/ToolTip/TooltipsDataProvider\"\nimport { ArticleData } from \"Components/Publishing/Typings\"\nimport { Bling as GPT } from \"react-gpt\"\nimport track, { TrackingProp } from \"react-tracking\"\nimport { MediaContextProvider } from \"Utils/Responsive\"\nimport Events from \"../../Utils/Events\"\n\nGPT.enableSingleRequest()\n\nexport interface ArticleProps {\n  articleSerial?: number\n  article: ArticleData\n  backgroundColor?: string\n  color?: string\n  customEditorial?: string\n  relatedArticles?: any\n  relatedArticlesForPanel?: any\n  relatedArticlesForCanvas?: any\n  renderTime?: number\n  seriesArticle?: ArticleData\n  isHovered?: boolean\n  isLoggedIn?: boolean\n  isMobile?: boolean\n  isTablet?: boolean\n  infiniteScrollEntrySlug?: string\n  isSuper?: boolean\n  isTruncated?: boolean\n  emailSignupUrl?: string\n  headerHeight?: string\n  marginTop?: string | null\n  showTooltips?: boolean\n  showCollectionsRail?: boolean\n  slideIndex?: number\n  tracking?: TrackingProp\n  closeViewer?: () => void\n  viewerIsOpen?: boolean\n  onOpenAuthModal?: (type: \"register\" | \"login\", config: object) => void\n  onExpand?: () => void\n  shouldAdRender?: boolean\n}\n\n@track(\n  (props: ArticleProps) => {\n    return {\n      page: \"Article\",\n      entity_type: \"article\",\n      entity_id: props.article.id,\n    }\n  },\n  {\n    dispatch: data => Events.postEvent(data),\n  }\n)\nexport class Article extends React.Component<ArticleProps> {\n  getArticleLayout = () => {\n    const { article, customEditorial } = this.props\n\n    if (customEditorial) {\n      if (article.layout !== \"series\") {\n        return (\n          <FullScreenProvider>\n            <ArticleWithFullScreen {...this.props}>\n              <EditorialFeature {...this.props} />\n            </ArticleWithFullScreen>\n          </FullScreenProvider>\n        )\n      } else {\n        return <EditorialFeature {...this.props} />\n      }\n    } else {\n      switch (article.layout) {\n        case \"classic\": {\n          return <ClassicLayout {...this.props} />\n        }\n        case \"feature\": {\n          return (\n            <FullScreenProvider>\n              <ArticleWithFullScreen {...this.props}>\n                <FeatureLayout {...this.props} />\n              </ArticleWithFullScreen>\n            </FullScreenProvider>\n          )\n        }\n        case \"series\": {\n          return <SeriesLayout {...this.props} />\n        }\n        case \"video\": {\n          return <VideoLayout {...this.props} />\n        }\n        case \"news\": {\n          return <NewsLayout {...this.props} />\n        }\n        default: {\n          return (\n            <FullScreenProvider>\n              <ArticleWithFullScreen {...this.props}>\n                <StandardLayout {...this.props} />\n              </ArticleWithFullScreen>\n            </FullScreenProvider>\n          )\n        }\n      }\n    }\n  }\n\n  shouldRenderSignUpCta = () => {\n    const { article, isLoggedIn, isTruncated, isMobile } = this.props\n\n    return (\n      isMobile && article.layout !== \"series\" && !isLoggedIn && !isTruncated\n    )\n  }\n\n  sponsorPixelTrackingCode = article => {\n    if (article.sponsor && article.sponsor.pixel_tracking_code) {\n      return article.sponsor\n    } else if (\n      article.seriesArticle &&\n      article.seriesArticle.sponsor &&\n      article.seriesArticle.sponsor.pixel_tracking_code\n    ) {\n      return article.seriesArticle.sponsor\n    }\n  }\n\n  render() {\n    const { article } = this.props\n    const trackingCode = this.sponsorPixelTrackingCode(article)\n\n    return (\n      <MediaContextProvider>\n        <Theme>\n          <TooltipsDataProvider {...this.props}>\n            {this.getArticleLayout()}\n            {trackingCode && (\n              <PixelTracker unit={trackingCode} date={this.props.renderTime} />\n            )}\n            {this.shouldRenderSignUpCta() && (\n              <BannerWrapper article={article} />\n            )}\n          </TooltipsDataProvider>\n        </Theme>\n      </MediaContextProvider>\n    )\n  }\n}\n"],"file":"Article.js"}