{"version":3,"sources":["../../../src/Components/Publishing/ArticleMeta.tsx"],"names":["responsiveCss","ArticleMeta","props","article","title","search_title","thumbnail_title","titleExtension","layout","url","slug","socialTitle","social_title","searchDescription","search_description","description","socialDescription","social_description","socialImage","social_image","thumbnail_image","authors","contributing_authors","keywords","join","sailthruKeywords","emailMetadata","published","email_metadata","featured","push","includes","published_at","sd","FACEBOOK_ID","headline","author","image_url","width","height","length","map","i","name","indexable"],"mappings":"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","sourcesContent":["import { getFullEditorialHref } from \"Components/Publishing/Constants\"\nimport { ArticleData } from \"Components/Publishing/Typings\"\nimport React from \"react\"\nimport { data as sd } from \"sharify\"\nimport { crop } from \"Utils/resizer\"\nimport { createMediaStyle } from \"Utils/Responsive\"\n\nconst responsiveCss = createMediaStyle()\n\nexport const ArticleMeta: React.SFC<{\n  article: ArticleData\n}> = props => {\n  const { article } = props\n  const title = article.search_title || article.thumbnail_title || \"\"\n  const titleExtension = article.layout === \"news\" ? \"Artsy News\" : \"Artsy\"\n  const url = getFullEditorialHref(article.layout, article.slug)\n  const socialTitle = article.social_title || article.thumbnail_title || \"\"\n  const searchDescription = article.search_description || article.description\n  const socialDescription = article.social_description || article.description\n  const socialImage = article.social_image || article.thumbnail_image\n  const authors = article.authors || article.contributing_authors || []\n  const keywords = (article.keywords && article.keywords.join(\", \")) || \"\"\n  const sailthruKeywords = [`article${keywords && `, ${keywords}`}`]\n  const emailMetadata = article.published && article.email_metadata\n\n  if (article.featured) {\n    sailthruKeywords.push(\"magazine\")\n  }\n\n  return (\n    <>\n      <title>{`${title} - ${titleExtension}`}</title>\n      <link rel=\"canonical\" href={url} />\n      <meta name=\"description\" content={searchDescription} />\n\n      {/** amp url, do we need? */\n      article.featured &&\n        article.published &&\n        [\"standard\", \"feature\"].includes(article.layout) && (\n          <link rel=\"amphtml\" href={`${url}/amp`} />\n        )}\n\n      {/** OpenGraph / Facebook */}\n      <meta property=\"og:site_name\" content=\"Artsy\" />\n      <meta property=\"og:title\" name=\"og:title\" content={socialTitle} />\n      <meta property=\"og:url\" content={url} />\n      <meta property=\"og:type\" content=\"article\" />\n      <meta property=\"og:published_time\" content={article.published_at} />\n      <meta property=\"og:description\" content={socialDescription} />\n      <meta property=\"og:image\" content={socialImage} />\n      <meta property=\"fb:app_id\" content={sd.FACEBOOK_ID} />\n      <meta property=\"article:published_time\" content={article.published_at} />\n      <meta\n        property=\"article:publisher\"\n        content=\"https://www.facebook.com/artsy/\"\n      />\n\n      {/** Twitter */}\n      <meta name=\"twitter:site\" content=\"@artsy\" />\n      <meta property=\"twitter:card\" content=\"summary_large_image\" />\n      <meta property=\"twitter:url\" content={url} />\n      <meta property=\"twitter:description\" content={socialDescription} />\n      <meta property=\"twitter:image\" content={socialImage} />\n      <meta name=\"twitter:title\" content={socialTitle} />\n\n      {/** Sailthru */\n      emailMetadata && (\n        <>\n          <meta name=\"sailthru.date\" content={article.published_at} />\n          {emailMetadata.headline && (\n            <meta name=\"sailthru.title\" content={emailMetadata.headline} />\n          )}\n          {emailMetadata.author && (\n            <meta name=\"sailthru.author\" content={emailMetadata.author} />\n          )}\n          {emailMetadata.image_url && (\n            <>\n              <meta\n                name=\"sailthru.image.full\"\n                content={crop(emailMetadata.image_url, {\n                  width: 1200,\n                  height: 800,\n                })}\n              />\n              <meta\n                name=\"sailthru.image.thumb\"\n                content={crop(emailMetadata.image_url, {\n                  width: 600,\n                  height: 400,\n                })}\n              />\n            </>\n          )}\n          <meta name=\"sailthru.tags\" content={sailthruKeywords.join(\", \")} />\n        </>\n      )}\n\n      {keywords.length && (\n        <>\n          <meta property=\"news_keywords\" content={keywords} />\n          <meta name=\"keywords\" content={keywords} />\n          <meta property=\"article:tag\" content={keywords} />\n        </>\n      )}\n\n      {authors.map(\n        (author, i) =>\n          author.name && <meta key={i} name=\"author\" content={author.name} />\n      )}\n      {!article.indexable && <meta name=\"robots\" content=\"noindex\" />}\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n      <style>{responsiveCss}</style>\n    </>\n  )\n}\n"],"file":"ArticleMeta.js"}