{"version":3,"sources":["../../../../src/Components/Publishing/Byline/DateSource.tsx"],"names":["DateSource","props","action","type","label","destination_path","article","news_source","url","source","editSource","hasSource","title","onClick","bind","published_at","Date","toISOString","getNewsSource","Component","DateSourceContainer","styled","div","pMedia","sm","colors","grayDark"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAQaA,U,WADZ,6B,UAQE,4BAAM,UAAAC,KAAK;AAAA,SAAK;AACfC,IAAAA,MAAM,EAAE,OADO;AAEfC,IAAAA,IAAI,EAAE,eAFS;AAGfC,IAAAA,KAAK,EAAE,aAHQ;AAIfC,IAAAA,gBAAgB,EAAEJ,KAAK,CAACK,OAAN,CAAcC,WAAd,CAA0BC;AAJ7B,GAAL;AAAA,CAAX,C;;;;;AAND,sBAAYP,KAAZ,EAA0B;AAAA;;AAAA;;AACxB,oFAAMA,KAAN;;AADwB,oEAgBV,UAAAQ,MAAM,EAAI;AAAA,UAChBC,UADgB,GACD,MAAKT,KADJ,CAChBS,UADgB;AAExB,UAAMC,SAAS,GAAGF,MAAM,KAAKA,MAAM,CAACD,GAAP,IAAcC,MAAM,CAACG,KAA1B,CAAxB;AACA,UAAI,CAACF,UAAD,IAAe,CAACC,SAApB,EAA+B,OAAO,IAAP;AAE/B,aACE,6BAAC,eAAD,QACGA,SAAS,IAAI,OADhB,UAGGD,UAAU,GACTA,UADS,GAEPD,MAAM,CAACD,GAAP,GACF;AAAG,QAAA,IAAI,EAAEC,MAAM,CAACD,GAAhB;AAAqB,QAAA,MAAM,EAAC,QAA5B;AAAqC,QAAA,OAAO,EAAE,MAAKK;AAAnD,SACGJ,MAAM,CAACG,KADV,CADE,GAKFH,MAAM,CAACG,KAVX,CADF;AAeD,KApCyB;;AAGxB,UAAKC,OAAL,GAAe,MAAKA,OAAL,CAAaC,IAAb,+BAAf;AAHwB;AAIzB;;;;8BAQS,CACR;AACD;;;6BAwBQ;AAAA,gCAC+B,KAAKb,KAAL,CAAWK,OAD1C;AAAA,UACCC,WADD,uBACCA,WADD;AAAA,UACcQ,YADd,uBACcA,YADd;AAEP,aACE,6BAAC,mBAAD,QACG,wBAAQA,YAAY,IAAI,IAAIC,IAAJ,GAAWC,WAAX,EAAxB,EAAkD,SAAlD,CADH,EAEG,KAAKC,aAAL,CAAmBX,WAAnB,CAFH,CADF;AAMD;;;;EA/C6BY,gB;;;AAkDhC,IAAMC,mBAAmB,GAAGC,0BAAOC,GAAV;AAAA;AAAA;AAAA,yDAErB,kBAAM,KAAN,CAFqB,EAKrBC,gBAAOC,EALc,oBAMnB,kBAAM,KAAN,CANmB,GAQZC,gBAAOC,QARK,EAUdD,gBAAOC,QAVO,CAAzB","sourcesContent":["import { unica } from \"Assets/Fonts\"\nimport React, { Component, Fragment } from \"react\"\nimport track from \"react-tracking\"\nimport styled from \"styled-components\"\nimport colors from \"../../../Assets/Colors\"\nimport { pMedia } from \"../../Helpers\"\nimport { getDate } from \"../Constants\"\nimport { NewsBylineProps } from \"./NewsByline\"\n\ninterface Props extends NewsBylineProps {\n  editSource?: any\n}\n\n@track()\nexport class DateSource extends Component<Props> {\n  constructor(props: Props) {\n    super(props)\n\n    this.onClick = this.onClick.bind(this)\n  }\n\n  @track(props => ({\n    action: \"Click\",\n    type: \"external link\",\n    label: \"news source\",\n    destination_path: props.article.news_source.url,\n  }))\n  onClick() {\n    // noop\n  }\n\n  getNewsSource = source => {\n    const { editSource } = this.props\n    const hasSource = source && (source.url || source.title)\n    if (!editSource && !hasSource) return null\n\n    return (\n      <Fragment>\n        {hasSource && \", via\"}\n        &nbsp;\n        {editSource ? (\n          editSource\n        ) : source.url ? (\n          <a href={source.url} target=\"_blank\" onClick={this.onClick}>\n            {source.title}\n          </a>\n        ) : (\n          source.title\n        )}\n      </Fragment>\n    )\n  }\n\n  render() {\n    const { news_source, published_at } = this.props.article\n    return (\n      <DateSourceContainer>\n        {getDate(published_at || new Date().toISOString(), \"verbose\")}\n        {this.getNewsSource(news_source)}\n      </DateSourceContainer>\n    )\n  }\n}\n\nconst DateSourceContainer = styled.div`\n  display: flex;\n  ${unica(\"s14\")};\n\n  /* stylelint-disable-next-line */\n  ${pMedia.sm`\n    ${unica(\"s12\")}\n  `} a {\n    color: ${colors.grayDark};\n  }\n  color: ${colors.grayDark};\n`\n"],"file":"DateSource.js"}