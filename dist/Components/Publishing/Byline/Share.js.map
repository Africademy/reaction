{"version":3,"sources":["../../../../src/Components/Publishing/Byline/Share.tsx"],"names":["Share","props","trackingData","dispatch","data","Events","postEvent","type","color","icon","service","getHref","trackShare","bind","e","preventDefault","window","open","currentTarget","attributes","href","value","tracking","trackEvent","action","label","match","url","title","encodedUrl","encodeURIComponent","channels","facebook","twitter","email","hasLabel","isMobile","isNews","getIcon","React","Component","ShareContainer","styled","div","attrs","removeMarginForMobile","pMedia","xs","IconWrapper","a","ShareLabel","Sans"],"mappings":"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","sourcesContent":["import { Sans } from \"@artsy/palette\"\nimport React from \"react\"\nimport track, { TrackingProp } from \"react-tracking\"\nimport styled from \"styled-components\"\nimport Events from \"../../../Utils/Events\"\nimport { pMedia } from \"../../Helpers\"\nimport { IconSocialEmail } from \"../Icon/IconSocialEmail\"\nimport { IconSocialFacebook } from \"../Icon/IconSocialFacebook\"\nimport { IconSocialTwitter } from \"../Icon/IconSocialTwitter\"\n\ninterface Props extends React.HTMLProps<HTMLDivElement> {\n  url: string\n  title: string\n  articleId?: string\n  color?: string\n  tracking?: TrackingProp\n  trackingData?: any\n  hasLabel?: boolean\n  isMobile?: boolean\n  isNews?: boolean\n}\n\n@track(\n  props => {\n    return props.trackingData ? props.trackingData : {}\n  },\n  {\n    dispatch: data => Events.postEvent(data),\n  }\n)\nexport class Share extends React.Component<Props> {\n  static defaultProps = {\n    color: \"black\",\n    hasLabel: false,\n  }\n\n  constructor(props) {\n    super(props)\n    this.getHref = this.getHref.bind(this)\n    this.trackShare = this.trackShare.bind(this)\n  }\n\n  trackShare(e) {\n    e.preventDefault()\n    window.open(\n      e.currentTarget.attributes.href.value,\n      \"Share\",\n      \"width = 600,height = 300\"\n    )\n\n    this.props.tracking.trackEvent({\n      action: \"Click\",\n      type: \"share\",\n      label: (() => {\n        const href = e.currentTarget.attributes.href.value\n        if (href.match(\"facebook\")) return \"facebook\"\n        if (href.match(\"twitter\")) return \"twitter\"\n        if (href.match(\"mailto\")) return \"email\"\n      })(),\n    })\n  }\n\n  getHref(type) {\n    const { url, title } = this.props\n    const encodedUrl = encodeURIComponent(url)\n    const channels = {\n      facebook: `https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}`,\n      twitter: `https://twitter.com/intent/tweet?original_referer=${encodedUrl}&text=${title}&url=${encodedUrl}&via=artsy`,\n      email: `mailto:?subject=${title}&body=Check out ${title} on Artsy: ${url}`,\n    }\n    return channels[type]\n  }\n\n  getIcon = type => {\n    const { color } = this.props\n\n    const icon = service => {\n      switch (service) {\n        case \"email\": {\n          return <IconSocialEmail color={color} />\n        }\n        case \"facebook\": {\n          return <IconSocialFacebook color={color} />\n        }\n        case \"twitter\": {\n          return <IconSocialTwitter color={color} />\n        }\n        default: {\n          break\n        }\n      }\n    }\n    return (\n      <IconWrapper\n        href={this.getHref(type)}\n        target=\"_blank\"\n        onClick={this.trackShare}\n      >\n        {icon(type)}\n      </IconWrapper>\n    )\n  }\n\n  render() {\n    const { hasLabel, isMobile, isNews } = this.props\n\n    return (\n      <ShareContainer removeMarginForMobile={isNews && isMobile}>\n        {hasLabel && (\n          <ShareLabel size=\"3t\" weight=\"medium\">\n            Share\n          </ShareLabel>\n        )}\n        {this.getIcon(\"facebook\")}\n        {this.getIcon(\"twitter\")}\n        {this.getIcon(\"email\")}\n      </ShareContainer>\n    )\n  }\n}\n\ninterface ShareContainerProps {\n  removeMarginForMobile?: boolean\n}\n\nexport const ShareContainer = styled.div.attrs<ShareContainerProps>({})`\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n  line-height: 1em;\n  margin-top: 5px;\n  ${props => props.removeMarginForMobile && pMedia.xs`margin-top: 15px;`};\n`\nconst IconWrapper = styled.a`\n  text-decoration: none;\n  padding-left: 7px;\n  padding-right: 7px;\n\n  &:hover {\n    opacity: 0.6;\n  }\n\n  &:first-child {\n    padding-left: 0;\n  }\n`\nconst ShareLabel = styled(Sans)`\n  margin: 5px 10px 5px 0;\n`\n"],"file":"Share.js"}