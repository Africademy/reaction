{"version":3,"sources":["../../../../src/Components/Publishing/Layouts/ArticleWithFullScreen.tsx"],"names":["ArticleWithFullScreen","withFullScreen","props","fullscreenImages","getSlideshowImagesFromArticle","article","state","closeViewer","slideIndex","viewerIsOpen","children","React","Component","isMobile","isSuper","isTruncated","showTooltips","sectionIndex","sections","map","section","includes","type","images","image","img","setTitle","title","index","push"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;;AACA;;AAEA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAOaA,qB,OADZC,8B;;;;;AAaC,iCAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,+FAAMA,KAAN;AACA,QAAMC,gBAAgB,GAAGC,6BAA6B,CAACF,KAAK,CAACG,OAAP,CAAtD;AACA,UAAKC,KAAL,GAAa;AACXH,MAAAA,gBAAgB,EAAhBA;AADW,KAAb;AAHiB;AAMlB;;;;6BAEQ;AAAA,UACCA,gBADD,GACsB,KAAKG,KAD3B,CACCH,gBADD;AAAA,wBAE2C,KAAKD,KAFhD;AAAA,UAECK,WAFD,eAECA,WAFD;AAAA,UAEcC,UAFd,eAEcA,UAFd;AAAA,UAE0BC,YAF1B,eAE0BA,YAF1B;AAIP,aACE,0CACG,KAAKP,KAAL,CAAWQ,QADd,EAEE,6BAAC,kCAAD;AACE,QAAA,OAAO,EAAEH,WADX;AAEE,QAAA,IAAI,EAAEE,YAFR;AAGE,QAAA,UAAU,EAAED,UAHd;AAIE,QAAA,MAAM,EAAEL;AAJV,QAFF,CADF;AAWD;;;;EAnCwCQ,eAAMC,S,4CAIzB;AACpBC,EAAAA,QAAQ,EAAE,KADU;AAEpBC,EAAAA,OAAO,EAAE,KAFW;AAGpBT,EAAAA,OAAO,EAAE,EAHW;AAIpBU,EAAAA,WAAW,EAAE,KAJO;AAKpBC,EAAAA,YAAY,EAAE;AALM,C;;;;eAkCT,8BAAQhB,qBAAR,C;;;;AAER,IAAMI,6BAA6B,GAAG,SAAhCA,6BAAgC,CAACC,OAAD,EAA0B;AACrE,MAAMF,gBAAgB,GAAG,EAAzB;AACA,MAAIc,YAAY,GAAG,CAAnB;AAEAZ,EAAAA,OAAO,CAACa,QAAR,CAAiBC,GAAjB,CAAqB,UAAAC,OAAO,EAAI;AAC9B,QAAI,CAAC,kBAAD,EAAqB,WAArB,EAAkCC,QAAlC,CAA2CD,OAAO,CAACE,IAAnD,CAAJ,EAA8D;AAC5DF,MAAAA,OAAO,CAACG,MAAR,CAAeJ,GAAf,CAAmB,UAAAK,KAAK,EAAI;AAC1B,YAAMC,GAAG,qBACJD,KADI;AAEPE,UAAAA,QAAQ,EAAEN,OAAO,CAACO,KAFX;AAGPC,UAAAA,KAAK,EAAEX;AAHA,UAAT;;AAKAd,QAAAA,gBAAgB,CAAC0B,IAAjB,CAAsBJ,GAAtB;AACAR,QAAAA,YAAY,GAAGA,YAAY,GAAG,CAA9B;AACD,OARD;AASD;AACF,GAZD;AAaA,SAAOd,gBAAP;AACD,CAlBM","sourcesContent":["import { ArticleProps } from \"Components/Publishing/Article\"\nimport { FullscreenViewer } from \"Components/Publishing/Sections/FullscreenViewer/FullscreenViewer\"\nimport { withFullScreen } from \"Components/Publishing/Sections/FullscreenViewer/withFullScreen\"\nimport { ArticleData } from \"Components/Publishing/Typings\"\nimport React from \"react\"\nimport track from \"react-tracking\"\n\ninterface ArticleState {\n  fullscreenImages: any\n}\n\n@withFullScreen\nexport class ArticleWithFullScreen extends React.Component<\n  ArticleProps,\n  ArticleState\n> {\n  static defaultProps = {\n    isMobile: false,\n    isSuper: false,\n    article: {},\n    isTruncated: false,\n    showTooltips: false,\n  }\n\n  constructor(props) {\n    super(props)\n    const fullscreenImages = getSlideshowImagesFromArticle(props.article)\n    this.state = {\n      fullscreenImages,\n    }\n  }\n\n  render() {\n    const { fullscreenImages } = this.state\n    const { closeViewer, slideIndex, viewerIsOpen } = this.props\n\n    return (\n      <div>\n        {this.props.children}\n        <FullscreenViewer\n          onClose={closeViewer}\n          show={viewerIsOpen}\n          slideIndex={slideIndex}\n          images={fullscreenImages}\n        />\n      </div>\n    )\n  }\n}\n\nexport default track()(ArticleWithFullScreen)\n\nexport const getSlideshowImagesFromArticle = (article: ArticleData) => {\n  const fullscreenImages = []\n  let sectionIndex = 0\n\n  article.sections.map(section => {\n    if ([\"image_collection\", \"image_set\"].includes(section.type)) {\n      section.images.map(image => {\n        const img = {\n          ...image,\n          setTitle: section.title,\n          index: sectionIndex,\n        }\n        fullscreenImages.push(img)\n        sectionIndex = sectionIndex + 1\n      })\n    }\n  })\n  return fullscreenImages\n}\n"],"file":"ArticleWithFullScreen.js"}