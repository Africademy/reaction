{"version":3,"sources":["../../../../../src/Components/Publishing/RelatedArticles/Canvas/RelatedArticlesCanvas.tsx"],"names":["RelatedArticlesCanvas","context_module","Schema","ContextModule","FurtherReading","subject","Subject","action_type","ActionType","Impression","props","articles","isMobile","vertical","getTitle","trackRelatedImpression","bind","article","i","React","Component","name","Title","Sans","pMedia","xl","sm","VerticalSpan","styled","span","ArticlesWrapper","div","attrs"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AAGA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAqBaA,qB,WALZ,sBAAM;AACL;AACAC,EAAAA,cAAc,EAAEC,MAAM,CAACC,aAAP,CAAqBC,cAFhC;AAGLC,EAAAA,OAAO,EAAEH,MAAM,CAACI,OAAP,CAAeF;AAHnB,CAAN,C,UAQE,sBAAM;AAAA,SAAO;AAAEG,IAAAA,WAAW,EAAEL,MAAM,CAACM,UAAP,CAAkBC;AAAjC,GAAP;AAAA,CAAN,C;;;;;;;;;;;;;6CACwB,CACvB;AACD;;;6BAEQ;AAAA,wBACkC,KAAKC,KADvC;AAAA,UACCC,QADD,eACCA,QADD;AAAA,UACWC,QADX,eACWA,QADX;AAAA,UACqBC,QADrB,eACqBA,QADrB;AAGP,aACE,6BAAC,aAAD;AAAM,QAAA,aAAa,EAAC,QAApB;AAA6B,QAAA,QAAQ,EAAE,IAAvC;AAA6C,QAAA,EAAE,EAAC,MAAhD;AAAuD,QAAA,EAAE,EAAE,CAA3D;AAA8D,QAAA,EAAE,EAAE;AAAlE,SACGC,QAAQ,CAACD,QAAD,CADX,EAEE,6BAAC,sBAAD;AAAU,QAAA,OAAO,EAAE,oBAAK,KAAKE,sBAAL,CAA4BC,IAA5B,CAAiC,IAAjC,CAAL;AAAnB,QAFF,EAGE,6BAAC,eAAD;AAAiB,QAAA,QAAQ,EAAEJ;AAA3B,SACG,mBAAID,QAAJ,EAAc,UAACM,OAAD,EAAUC,CAAV,EAAgB;AAC7B,eACE,6BAAC,kDAAD;AACE,UAAA,OAAO,EAAED,OADX;AAEE,UAAA,GAAG,mCAA4BC,CAA5B;AAFL,UADF;AAMD,OAPA,CADH,CAHF,CADF;AAgBD;;;;EA3BwCC,eAAMC,S;;;AA8BjD,IAAMN,QAAQ,GAAG,SAAXA,QAAW,CAAAD,QAAQ,EAAI;AAC3B,MAAIA,QAAJ,EAAc;AACZ,WACE,6BAAC,KAAD;AAAO,MAAA,IAAI,EAAE,CAAC,GAAD,EAAM,GAAN;AAAb,8BACqB,6BAAC,YAAD,QAAeA,QAAQ,CAACQ,IAAxB,CADrB,CADF;AAKD,GAND,MAMO;AACL,WAAO,6BAAC,KAAD;AAAO,MAAA,IAAI,EAAE,CAAC,GAAD,EAAM,GAAN;AAAb,mCAAP;AACD;AACF,CAVD;;AAYA,IAAMC,KAAK,GAAG,+BAAOC,aAAP,CAAH;AAAA;AAAA;AAAA,sCAEPC,gBAAOC,EAFA,qBAKPD,gBAAOE,EALA,qBAAX;;AASA,IAAMC,YAAY,GAAGC,0BAAOC,IAAV;AAAA;AAAA;AAAA,cACdL,gBAAOE,EADO,qBAAlB;;AAKA,IAAMI,eAAe,GAAGF,0BAAOG,GAAP,CAAWC,KAAX,CAA0C,EAA1C,CAAH;AAAA;AAAA;AAAA,yKAefR,gBAAOC,EAfQ,sBAwBfD,gBAAOE,EAxBQ,sBA8BjB,UAAAhB,KAAK;AAAA,SAAIA,KAAK,CAACE,QAAN,IAAkB,oCAAtB;AAAA,CA9BY,CAArB","sourcesContent":["import { Flex, Sans } from \"@artsy/palette\"\nimport { track } from \"Artsy/Analytics\"\nimport * as Schema from \"Artsy/Analytics/Schema\"\nimport { RelatedArticleCanvasData } from \"Components/Publishing/Typings\"\nimport { map, once } from \"lodash\"\nimport React from \"react\"\nimport Waypoint from \"react-waypoint\"\nimport styled from \"styled-components\"\nimport { pMedia } from \"../../../Helpers\"\nimport { RelatedArticleCanvasLink } from \"./RelatedArticleCanvasLink\"\n\nexport interface RelatedArticlesCanvasProps\n  extends React.HTMLProps<HTMLDivElement> {\n  vertical?: {\n    name: string\n    id?: string\n  }\n  articles: RelatedArticleCanvasData[]\n  isMobile?: boolean\n}\n\ninterface ScrollingContainerProps {\n  isMobile?: boolean\n}\n\n@track({\n  // TODO: re-evalutate double naming of context/schema\n  context_module: Schema.ContextModule.FurtherReading,\n  subject: Schema.Subject.FurtherReading,\n})\nexport class RelatedArticlesCanvas extends React.Component<\n  RelatedArticlesCanvasProps\n> {\n  @track(() => ({ action_type: Schema.ActionType.Impression }))\n  trackRelatedImpression() {\n    // noop\n  }\n\n  render() {\n    const { articles, isMobile, vertical } = this.props\n\n    return (\n      <Flex flexDirection=\"column\" maxWidth={1250} mx=\"auto\" mt={4} mb={6}>\n        {getTitle(vertical)}\n        <Waypoint onEnter={once(this.trackRelatedImpression.bind(this))} />\n        <ArticlesWrapper isMobile={isMobile}>\n          {map(articles, (article, i) => {\n            return (\n              <RelatedArticleCanvasLink\n                article={article}\n                key={`related-article-figure-${i}`}\n              />\n            )\n          })}\n        </ArticlesWrapper>\n      </Flex>\n    )\n  }\n}\n\nconst getTitle = vertical => {\n  if (vertical) {\n    return (\n      <Title size={[\"6\", \"8\"]}>\n        Further reading in <VerticalSpan>{vertical.name}</VerticalSpan>\n      </Title>\n    )\n  } else {\n    return <Title size={[\"6\", \"8\"]}>More from Artsy Editorial</Title>\n  }\n}\n\nconst Title = styled(Sans)`\n  margin-bottom: 20px;\n  ${pMedia.xl`\n    margin: 0 20px 30px 40px;\n  `};\n  ${pMedia.sm`\n    margin-left: 20px;\n  `};\n`\nconst VerticalSpan = styled.span`\n  ${pMedia.sm`\n    display: block;\n  `};\n`\nconst ArticlesWrapper = styled.div.attrs<ScrollingContainerProps>({})`\n  display: flex;\n  justify-content: space-between;\n  overflow-x: scroll;\n\n  ::-webkit-scrollbar {\n    display: none;\n  }\n\n  a {\n    margin-right: 30px;\n\n    &:last-child {\n      margin-right: 0;\n    }\n    ${pMedia.xl`\n      margin: 0 10px;\n      &:first-child {\n        margin-left: 40px;\n      }\n      &:last-child {\n        border-right: 20px solid white;\n      }\n    `};\n    ${pMedia.sm`\n      &:first-child {\n        margin-left: 20px;\n      }\n    `};\n  }\n  ${props => props.isMobile && \"-webkit-overflow-scrolling: touch;\"};\n`\n"],"file":"RelatedArticlesCanvas.js"}