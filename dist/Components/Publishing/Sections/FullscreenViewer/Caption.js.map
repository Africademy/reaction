{"version":3,"sources":["../../../../../src/Components/Publishing/Sections/FullscreenViewer/Caption.tsx"],"names":["Caption","props","index","open","section","total","isArtwork","type","indexText","__html","caption","CaptionToggle","context","toggleMessage","onToggleCaption","contextTypes","PropTypes","func","StyledCaptionToggle","styled","div","pMedia","sm","CaptionDiv","CaptionText","Index","CaptionContainer","Colors","gray","CaptionTextContainer"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAaO,IAAMA,OAAgC,GAAG,SAAnCA,OAAmC,CAAAC,KAAK,EAAI;AAAA,MAC/CC,KAD+C,GACfD,KADe,CAC/CC,KAD+C;AAAA,MACxCC,IADwC,GACfF,KADe,CACxCE,IADwC;AAAA,MAClCC,OADkC,GACfH,KADe,CAClCG,OADkC;AAAA,MACzBC,KADyB,GACfJ,KADe,CACzBI,KADyB;AAGvD,MAAMC,SAAS,GAAGF,OAAO,CAACG,IAAR,KAAiB,SAAnC;AACA,MAAMC,SAAS,aAAMN,KAAN,iBAAkBG,KAAlB,CAAf;AAEA,SACE,6BAAC,gBAAD,QACE,6BAAC,oBAAD,QACE,6BAAC,aAAD;AAAe,IAAA,IAAI,EAAEF;AAArB,IADF,EAGE,6BAAC,WAAD;AAAa,IAAA,IAAI,EAAEA;AAAnB,KACGG,SAAS,GACR,6BAAC,8BAAD;AAAgB,IAAA,OAAO,EAAEF,OAAzB;AAAkC,IAAA,mBAAmB,MAArD;AAAsD,IAAA,MAAM;AAA5D,IADQ,GAGR;AACE,IAAA,uBAAuB,EAAE;AACvBK,MAAAA,MAAM,EAAEL,OAAO,CAACM;AADO;AAD3B,IAJJ,CAHF,CADF,EAiBE,6BAAC,KAAD,QAAQF,SAAR,CAjBF,CADF;AAqBD,CA3BM;;;;AA6BP,IAAMG,aAA0C,GAAG,SAA7CA,aAA6C,CAACV,KAAD,EAAQW,OAAR,EAAoB;AACrE,MAAMC,aAAa,GAAGZ,KAAK,CAACE,IAAN,GAAa,MAAb,GAAsB,cAA5C;AAEA,SACE,6BAAC,mBAAD;AACE,IAAA,OAAO,EAAES,OAAO,CAACE,eADnB;AAEE,IAAA,SAAS,EAAC;AAFZ,KAIE,2CAAOD,aAAP,CAJF,CADF;AAQD,CAXD;;AAaAF,aAAa,CAACI,YAAd,GAA6B;AAC3BD,EAAAA,eAAe,EAAEE,mBAAUC;AADA,CAA7B;;AAIA,IAAMC,mBAAmB,GAAGC,0BAAOC,GAAV;AAAA;AAAA;AAAA,2BAErBC,gBAAOC,EAFc,oBAGnB,kBAAM,KAAN,EAAa,QAAb,CAHmB,EAAzB;;AAYA,IAAMC,UAA4C,GAAGJ,0BAAOC,GAA5D;AAEA,IAAMI,WAAW,GAAGD,UAAH,qBACb,kBAAM,KAAN,EAAa,QAAb,CADa,EAKb,UAAAtB,KAAK;AAAA,SAAIoB,gBAAOC,EAAX,qBACH,kBAAM,KAAN,EAAa,QAAb,CADG,EAEMrB,KAAK,CAACE,IAAN,GAAa,OAAb,GAAuB,MAF7B,EAGSF,KAAK,CAACE,IAAN,GAAa,MAAb,GAAsB,KAH/B;AAAA,CALQ,CAAjB;;AAYA,IAAMsB,KAAK,GAAGN,0BAAOC,GAAV;AAAA;AAAA;AAAA,uDAGP,kBAAM,KAAN,CAHO,EAIPC,gBAAOC,EAJA,qBAKL,kBAAM,KAAN,CALK,EAAX;;AASA,IAAMI,gBAAgB,GAAGP,0BAAOC,GAAV;AAAA;AAAA;AAAA,6GAGAO,gBAAOC,IAHP,EAUlBP,gBAAOC,EAVW,qBAAtB;;AAmBA,IAAMO,oBAAoB,GAAGV,0BAAOC,GAAV;AAAA;AAAA;AAAA,2CAA1B","sourcesContent":["import Colors from \"Assets/Colors\"\nimport { unica } from \"Assets/Fonts\"\nimport { pMedia } from \"Components/Helpers\"\nimport PropTypes from \"prop-types\"\nimport React from \"react\"\nimport styled, { StyledFunction } from \"styled-components\"\nimport { ArtworkCaption } from \"../ArtworkCaption\"\n\ninterface CaptionProps extends React.HTMLProps<HTMLDivElement> {\n  section?: any\n  total: number\n  index: number\n  open: boolean\n}\n\ninterface CaptionOpenProps extends React.HTMLProps<HTMLDivElement> {\n  open: boolean\n}\n\nexport const Caption: React.SFC<CaptionProps> = props => {\n  const { index, open, section, total } = props\n\n  const isArtwork = section.type === \"artwork\"\n  const indexText = `${index} of ${total}`\n\n  return (\n    <CaptionContainer>\n      <CaptionTextContainer>\n        <CaptionToggle open={open} />\n\n        <CaptionText open={open}>\n          {isArtwork ? (\n            <ArtworkCaption artwork={section} isFullscreenCaption linked />\n          ) : (\n            <div\n              dangerouslySetInnerHTML={{\n                __html: section.caption,\n              }}\n            />\n          )}\n        </CaptionText>\n      </CaptionTextContainer>\n\n      <Index>{indexText}</Index>\n    </CaptionContainer>\n  )\n}\n\nconst CaptionToggle: React.SFC<CaptionOpenProps> = (props, context) => {\n  const toggleMessage = props.open ? \"Hide\" : \"View Caption\"\n\n  return (\n    <StyledCaptionToggle\n      onClick={context.onToggleCaption}\n      className=\"fullscreen-viewer__caption-toggle\"\n    >\n      <span>{toggleMessage}</span>\n    </StyledCaptionToggle>\n  )\n}\n\nCaptionToggle.contextTypes = {\n  onToggleCaption: PropTypes.func,\n}\n\nconst StyledCaptionToggle = styled.div`\n  display: none;\n  ${pMedia.sm`\n    ${unica(\"s14\", \"medium\")}\n    cursor: pointer;\n    display: inline-block;\n    span {\n      border-bottom: 1px solid black;\n    }\n  `};\n`\n\nconst CaptionDiv: StyledFunction<CaptionOpenProps> = styled.div\n\nconst CaptionText = CaptionDiv`\n  ${unica(\"s16\", \"medium\")}\n  a {\n    color: black;\n  }\n  ${props => pMedia.sm`\n    ${unica(\"s14\", \"medium\")}\n    display: ${props.open ? \"block\" : \"none\"};\n    margin-top: ${props.open ? \"20px\" : \"0px\"};\n  `}\n`\n\nconst Index = styled.div`\n  margin-left: 20px;\n  white-space: nowrap;\n  ${unica(\"s16\")};\n  ${pMedia.sm`\n    ${unica(\"s14\")}\n  `};\n`\n\nconst CaptionContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  background-color: ${Colors.gray};\n  padding: 30px 60px;\n\n  p {\n    margin: 0;\n  }\n\n  ${pMedia.sm`\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    max-width: 100vh;\n    padding: 20px;\n  `};\n`\n\nconst CaptionTextContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n`\n"],"file":"Caption.js"}