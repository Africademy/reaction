{"version":3,"sources":["../../../../src/Components/Publishing/Series/SeriesAbout.tsx"],"names":["SeriesAbout","event","props","tracking","trackEvent","action","flow","type","destination_path","currentTarget","href","sponsor","article","color","sponsorLogo","partner_light_logo","partner_dark_logo","partner_logo_link","textLink","document","querySelector","addEventListener","onClickFooterLink","series","slug","social_title","thumbnail_title","editDescription","editSubTitle","sub_title","partnerBlock","description","Component","SeriesAboutContainer","Flex"],"mappings":"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","sourcesContent":["import { Box, Flex, Sans } from \"@artsy/palette\"\nimport React, { Component } from \"react\"\nimport track, { TrackingProp } from \"react-tracking\"\nimport styled from \"styled-components\"\n\nimport { Share } from \"Components/Publishing/Byline/Share\"\nimport { PartnerBlock } from \"Components/Publishing/Partner/PartnerBlock\"\nimport { Text } from \"Components/Publishing/Sections/Text\"\nimport { ArticleData } from \"Components/Publishing/Typings\"\nimport { Media } from \"Utils/Responsive\"\nimport { getArticleFullHref } from \"../Constants\"\n\ninterface SeriesAboutProps {\n  article?: ArticleData\n  color?: string\n  editDescription?: any\n  editSubTitle?: any\n  tracking?: TrackingProp\n}\n\n@track()\nexport class SeriesAbout extends Component<SeriesAboutProps> {\n  public static defaultProps: Partial<SeriesAboutProps> = {\n    color: \"black\",\n  }\n\n  componentDidMount() {\n    const textLink = document.querySelector(\".SeriesAbout__description a\")\n    if (textLink) {\n      textLink.addEventListener(\"click\", this.onClickFooterLink)\n    }\n  }\n\n  onClickFooterLink = event => {\n    this.props.tracking.trackEvent({\n      action: \"Click\",\n      flow: \"Partner Footer CTA\",\n      type: \"external_link\",\n      destination_path: event.currentTarget.href,\n    })\n  }\n\n  partnerBlock = () => {\n    const {\n      article: { sponsor },\n      color,\n    } = this.props\n    const sponsorLogo =\n      sponsor &&\n      (color === \"white\"\n        ? sponsor.partner_light_logo\n        : sponsor.partner_dark_logo)\n\n    return (\n      <PartnerBlock\n        logo={sponsorLogo}\n        url={sponsor.partner_logo_link}\n        trackingData={{\n          type: \"external link\",\n          destination_path: sponsor.partner_logo_link,\n        }}\n      />\n    )\n  }\n\n  render() {\n    const {\n      article: { series, slug, social_title, sponsor, thumbnail_title },\n      color,\n      editDescription,\n      editSubTitle,\n    } = this.props\n\n    return (\n      <SeriesAboutContainer\n        color={color}\n        maxWidth=\"1200px\"\n        mx=\"auto\"\n        width=\"100%\"\n        flexDirection={[\"column\", \"column\", \"row\", \"row\"]}\n      >\n        <Flex\n          width={[1, 1, 1 / 3, 1 / 3]}\n          justifyContent=\"space-between\"\n          flexDirection=\"column\"\n        >\n          <div>\n            <Sans size=\"8\" mb={[\"10px\", \"10px\", 20, 20]} color={color}>\n              {editSubTitle\n                ? editSubTitle\n                : (series && series.sub_title) || \"About the Series\"}\n            </Sans>\n\n            <Sans size=\"5\" mb={[\"20px\", \"20px\", 0, 0]}>\n              <Share\n                url={getArticleFullHref(slug)}\n                title={social_title || thumbnail_title}\n                color={color}\n              />\n            </Sans>\n          </div>\n\n          <Media greaterThanOrEqual=\"md\">\n            {sponsor && <Box mb={1}>{this.partnerBlock()}</Box>}\n          </Media>\n        </Flex>\n\n        <Flex width={[1, 1, 2 / 3, 2 / 3]} flexDirection=\"column\">\n          {editDescription ? (\n            <Text layout=\"standard\" color={color}>\n              {editDescription}\n            </Text>\n          ) : (\n            <div className=\"SeriesAbout__description\">\n              <Text\n                layout=\"standard\"\n                color={color}\n                html={series && series.description}\n              />\n            </div>\n          )}\n          <Media lessThan=\"md\">\n            {sponsor && <Box mt={60}>{this.partnerBlock()}</Box>}\n          </Media>\n        </Flex>\n      </SeriesAboutContainer>\n    )\n  }\n}\n\nexport const SeriesAboutContainer = styled(Flex)``\n"],"file":"SeriesAbout.js"}