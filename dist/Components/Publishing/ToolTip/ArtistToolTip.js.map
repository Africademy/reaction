{"version":3,"sources":["../../../../src/Components/Publishing/ToolTip/ArtistToolTip.tsx"],"names":["ArtistToolTip","tracking","props","href","artist","trackEvent","action","flow","type","contextModule","destination_path","genes","length","join","blurb","carousel","formatted_nationality_and_birthday","id","_id","name","context","artists","tooltipsData","onOpenAuthModal","displayImages","images","slice","description","renderArtistGenes","trackingData","entity_id","entity_slug","entity_type","trackClick","map","img","i","__id","React","Component","PropTypes","object","func","Wrapper","styled","div","ArtistContainer","Header","TitleDate","a","Title","Date","Images","ArtistTooltipContainer"],"mappings":"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","sourcesContent":["import { ArtistToolTip_artist } from \"__generated__/ArtistToolTip_artist.graphql\"\nimport { garamond, unica } from \"Assets/Fonts\"\nimport { FollowArtistButtonFragmentContainer as FollowArtistButton } from \"Components/FollowButton/FollowArtistButton\"\nimport { map } from \"lodash\"\nimport PropTypes from \"prop-types\"\nimport React from \"react\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\nimport track, { TrackingProp } from \"react-tracking\"\nimport styled from \"styled-components\"\nimport fillwidthDimensions from \"../../../Utils/fillwidth\"\nimport { FollowTrackingData } from \"../../FollowButton/Typings\"\nimport { ToolTipDescription } from \"./Components/Description\"\n\nexport interface ArtistToolTipProps {\n  artist: ArtistToolTip_artist\n  tracking?: TrackingProp\n}\n\nexport class ArtistToolTip extends React.Component<ArtistToolTipProps> {\n  static contextTypes = {\n    tooltipsData: PropTypes.object,\n    onOpenAuthModal: PropTypes.func,\n  }\n\n  trackClick = () => {\n    const { tracking } = this.props\n    const { href } = this.props.artist\n\n    tracking.trackEvent({\n      action: \"Click\",\n      flow: \"tooltip\",\n      type: \"artist stub\",\n      contextModule: \"intext tooltip\",\n      destination_path: href,\n    })\n  }\n\n  renderArtistGenes = () => {\n    const { genes } = this.props.artist\n\n    if (genes.length) {\n      return map(genes, \"name\").join(\", \")\n    }\n  }\n\n  render() {\n    const { artist } = this.props\n    const {\n      blurb,\n      carousel,\n      formatted_nationality_and_birthday,\n      href,\n      id,\n      _id,\n      name,\n    } = artist\n    const {\n      tooltipsData: { artists },\n      onOpenAuthModal,\n    } = this.context\n    const displayImages = map(carousel.images.slice(0, 2), \"resized\")\n    const images = fillwidthDimensions(displayImages, 320, 15, 150)\n    const description = blurb || this.renderArtistGenes()\n\n    const trackingData: FollowTrackingData = {\n      contextModule: \"intext tooltip\",\n      entity_id: _id,\n      entity_slug: id,\n      entity_type: \"artist\",\n    }\n\n    return (\n      <Wrapper>\n        <ArtistContainer>\n          {images && (\n            <Images href={href} onClick={this.trackClick}>\n              {images.map((img, i) => (\n                <div key={i}>\n                  <img src={img.__id} />\n                </div>\n              ))}\n            </Images>\n          )}\n\n          <Header>\n            <TitleDate href={href} target=\"_blank\" onClick={this.trackClick}>\n              <Title>{name}</Title>\n              {formatted_nationality_and_birthday && (\n                <Date>{formatted_nationality_and_birthday}</Date>\n              )}\n            </TitleDate>\n            <FollowArtistButton\n              artist={artists[id]}\n              trackingData={trackingData}\n              onOpenAuthModal={onOpenAuthModal}\n            />\n          </Header>\n\n          <a href={href} target=\"_blank\" onClick={this.trackClick}>\n            {description && <ToolTipDescription text={description} />}\n          </a>\n        </ArtistContainer>\n      </Wrapper>\n    )\n  }\n}\n\nconst Wrapper = styled.div`\n  width: 320px;\n`\n\nexport const ArtistContainer = styled.div`\n  position: relative;\n\n  a {\n    text-decoration: none;\n    color: black;\n\n    &:hover {\n      color: black;\n    }\n  }\n`\n\nconst Header = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding-bottom: 10px;\n`\n\nexport const TitleDate = styled.a`\n  display: flex;\n  flex-direction: column;\n`\n\nconst Title = styled.div`\n  ${garamond(\"s18\")};\n  font-weight: 600;\n`\n\nconst Date = styled.div`\n  ${unica(\"s14\", \"medium\")};\n`\n\nconst Images = styled.a`\n  width: 100%;\n  margin-bottom: 20px;\n  display: flex;\n  justify-content: space-between;\n\n  div:first-child {\n    margin-right: 15px;\n  }\n\n  img {\n    width: 100%;\n    height: auto;\n  }\n`\n\nexport const ArtistTooltipContainer = track({})(\n  createFragmentContainer(ArtistToolTip, {\n    artist: graphql`\n      fragment ArtistToolTip_artist on Artist {\n        name\n        id\n        _id\n        formatted_nationality_and_birthday\n        href\n        blurb\n        carousel {\n          images {\n            resized(height: 200) {\n              url\n              width\n              height\n            }\n          }\n        }\n        genes {\n          name\n        }\n      }\n    `,\n  })\n)\n"],"file":"ArtistToolTip.js"}