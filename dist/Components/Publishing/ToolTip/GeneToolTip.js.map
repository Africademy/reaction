{"version":3,"sources":["../../../../src/Components/Publishing/ToolTip/GeneToolTip.tsx"],"names":["GeneToolTip","tracking","props","href","gene","trackEvent","action","flow","type","contextModule","destination_path","description","id","_id","image","name","url","context","genes","tooltipsData","onOpenAuthModal","trackingData","entity_id","entity_slug","entity_type","trackClick","React","Component","PropTypes","object","func","Wrapper","styled","div","GeneContainer","a","Title","Image","img","ToolTipFooter","GeneToolTipContainer"],"mappings":";;;;;;;;;;;;;;;;;;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;IAOaA,W;;;;;;;;;;;;;;;;;;iEAME,YAAM;AAAA,UACTC,QADS,GACI,MAAKC,KADT,CACTD,QADS;AAAA,UAETE,IAFS,GAEA,MAAKD,KAAL,CAAWE,IAFX,CAETD,IAFS;AAIjBF,MAAAA,QAAQ,CAACI,UAAT,CAAoB;AAClBC,QAAAA,MAAM,EAAE,OADU;AAElBC,QAAAA,IAAI,EAAE,SAFY;AAGlBC,QAAAA,IAAI,EAAE,WAHY;AAIlBC,QAAAA,aAAa,EAAE,gBAJG;AAKlBC,QAAAA,gBAAgB,EAAEP;AALA,OAApB;AAOD,K;;;;;;;6BAEQ;AAAA,6BAC6C,KAAKD,KAAL,CAAWE,IADxD;AAAA,UACCO,WADD,oBACCA,WADD;AAAA,UACcR,IADd,oBACcA,IADd;AAAA,UACoBS,EADpB,oBACoBA,EADpB;AAAA,UACwBC,GADxB,oBACwBA,GADxB;AAAA,UAC6BC,KAD7B,oBAC6BA,KAD7B;AAAA,UACoCC,IADpC,oBACoCA,IADpC;AAAA,UAECC,GAFD,GAESF,KAFT,CAECE,GAFD;AAAA,0BAMH,KAAKC,OANF;AAAA,UAIWC,KAJX,iBAILC,YAJK,CAIWD,KAJX;AAAA,UAKLE,eALK,iBAKLA,eALK;AAQP,UAAMC,YAAgC,GAAG;AACvCZ,QAAAA,aAAa,EAAE,SADwB;AAEvCa,QAAAA,SAAS,EAAET,GAF4B;AAGvCU,QAAAA,WAAW,EAAEX,EAH0B;AAIvCY,QAAAA,WAAW,EAAE;AAJ0B,OAAzC;AAOA,aACE,6BAAC,OAAD,QACE,6BAAC,aAAD;AACE,QAAA,IAAI,EAAE,iCAAiBrB,IAAjB,CADR;AAEE,QAAA,MAAM,EAAC,QAFT;AAGE,QAAA,OAAO,EAAE,KAAKsB;AAHhB,SAKGT,GAAG,IAAI,6BAAC,KAAD;AAAO,QAAA,GAAG,EAAEA;AAAZ,QALV,EAME,6BAAC,KAAD,QAAQD,IAAR,CANF,EAQGJ,WAAW,IAAI,6BAAC,+BAAD;AAAoB,QAAA,IAAI,EAAEA;AAA1B,QARlB,CADF,EAYE,6BAAC,aAAD,QACE,6BAAC,mDAAD;AACE,QAAA,IAAI,EAAEO,KAAK,CAACN,EAAD,CADb;AAEE,QAAA,YAAY,EAAES,YAFhB;AAGE,QAAA,eAAe,EAAED;AAHnB,QADF,CAZF,CADF;AAsBD;;;;EAxD8BM,eAAMC,S;;;;gBAA1B3B,W,kBACW;AACpBmB,EAAAA,YAAY,EAAES,mBAAUC,MADJ;AAEpBT,EAAAA,eAAe,EAAEQ,mBAAUE;AAFP,C;;AA0DxB,IAAMC,OAAO,GAAGC,0BAAOC,GAAV;AAAA;AAAA;AAAA,yCAAb;;AAQO,IAAMC,aAAa,GAAGF,0BAAOG,CAAV;AAAA;AAAA;AAAA,+EAAnB;;;;AAOP,IAAMC,KAAK,GAAGJ,0BAAOC,GAAV;AAAA;AAAA;AAAA,kDACP,qBAAS,KAAT,CADO,CAAX;;AAMA,IAAMI,KAAK,GAAGL,0BAAOM,GAAV;AAAA;AAAA;AAAA,yEAAX;;AAOO,IAAMC,aAAa,GAAGP,0BAAOC,GAAV;AAAA;AAAA;AAAA,sEAAnB;;;AAMA,IAAMO,oBAAoB,GAAG,8BAClC,yCAAwBxC,WAAxB,EAAqC;AACnCI,EAAAA,IAAI;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAD+B,CAArC,CADkC,CAA7B","sourcesContent":["import { GeneToolTip_gene } from \"__generated__/GeneToolTip_gene.graphql\"\nimport { garamond } from \"Assets/Fonts\"\nimport { FollowGeneButtonFragmentContainer as FollowGeneButton } from \"Components/FollowButton/FollowGeneButton\"\nimport PropTypes from \"prop-types\"\nimport React from \"react\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\nimport track, { TrackingProp } from \"react-tracking\"\nimport styled from \"styled-components\"\nimport { FollowTrackingData } from \"../../FollowButton/Typings\"\nimport { getFullArtsyHref } from \"../Constants\"\nimport { ToolTipDescription } from \"./Components/Description\"\n\nexport interface GeneProps {\n  gene: GeneToolTip_gene\n  tracking?: TrackingProp\n}\n\nexport class GeneToolTip extends React.Component<GeneProps> {\n  static contextTypes = {\n    tooltipsData: PropTypes.object,\n    onOpenAuthModal: PropTypes.func,\n  }\n\n  trackClick = () => {\n    const { tracking } = this.props\n    const { href } = this.props.gene\n\n    tracking.trackEvent({\n      action: \"Click\",\n      flow: \"tooltip\",\n      type: \"gene stub\",\n      contextModule: \"intext tooltip\",\n      destination_path: href,\n    })\n  }\n\n  render() {\n    const { description, href, id, _id, image, name } = this.props.gene\n    const { url } = image\n    const {\n      tooltipsData: { genes },\n      onOpenAuthModal,\n    } = this.context\n\n    const trackingData: FollowTrackingData = {\n      contextModule: \"tooltip\",\n      entity_id: _id,\n      entity_slug: id,\n      entity_type: \"gene\",\n    }\n\n    return (\n      <Wrapper>\n        <GeneContainer\n          href={getFullArtsyHref(href)}\n          target=\"_blank\"\n          onClick={this.trackClick}\n        >\n          {url && <Image src={url} />}\n          <Title>{name}</Title>\n\n          {description && <ToolTipDescription text={description} />}\n        </GeneContainer>\n\n        <ToolTipFooter>\n          <FollowGeneButton\n            gene={genes[id]}\n            trackingData={trackingData}\n            onOpenAuthModal={onOpenAuthModal}\n          />\n        </ToolTipFooter>\n      </Wrapper>\n    )\n  }\n}\n\nconst Wrapper = styled.div`\n  width: 240px;\n\n  a:hover {\n    color: black;\n  }\n`\n\nexport const GeneContainer = styled.a`\n  position: relative;\n  text-decoration: none;\n  color: black;\n  padding-bottom: 10px;\n`\n\nconst Title = styled.div`\n  ${garamond(\"s18\")};\n  font-weight: 600;\n  padding-bottom: 10px;\n`\n\nconst Image = styled.img`\n  width: 100%;\n  padding-bottom: 10px;\n  max-height: 160px;\n  object-fit: cover;\n`\n\nexport const ToolTipFooter = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`\n\nexport const GeneToolTipContainer = track()(\n  createFragmentContainer(GeneToolTip, {\n    gene: graphql`\n      fragment GeneToolTip_gene on Gene {\n        description\n        href\n        id\n        _id\n        image {\n          url(version: \"tall\")\n        }\n        name\n      }\n    `,\n  })\n)\n"],"file":"GeneToolTip.js"}