{"version":3,"sources":["../../../../../src/Components/Publishing/Video/Player/Scrubber.tsx"],"names":["Scrubber","isScrubbing","isPlayingOnMouseDown","setState","props","isPlaying","pause","e","state","seekTo","target","value","play","nextProps","currentTime","duration","toFixed","handleMouseDown","handleMouseUp","handleChange","Component","Input","styled","input","ScrubberInput"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAqBaA,Q;;;;;;;;;;;;;;;;;;4DACH;AACNC,MAAAA,WAAW,EAAE,KADP;AAENC,MAAAA,oBAAoB,EAAE;AAFhB,K;;sEAYU,YAAM;AACtB,YAAKC,QAAL,CAAc;AACZD,QAAAA,oBAAoB,EAAE,MAAKE,KAAL,CAAWC;AADrB,OAAd;;AAGA,YAAKD,KAAL,CAAWE,KAAX;AACD,K;;oEAEe,UAAAC,CAAC,EAAI;AACnB,UAAI,CAAC,MAAKC,KAAL,CAAWP,WAAhB,EAA6B;AAC3B,cAAKG,KAAL,CAAWK,MAAX,CAAkBF,CAAC,CAACG,MAAF,CAASC,KAA3B;AACD;;AACD,UAAI,MAAKH,KAAL,CAAWN,oBAAf,EAAqC;AACnC,cAAKE,KAAL,CAAWQ,IAAX;AACD;;AACD,YAAKT,QAAL,CAAc;AAAEF,QAAAA,WAAW,EAAE;AAAf,OAAd;AACD,K;;mEAEc,UAAAM,CAAC,EAAI;AAClB,YAAKJ,QAAL,CAAc;AAAEF,QAAAA,WAAW,EAAE;AAAf,OAAd;;AACA,YAAKG,KAAL,CAAWK,MAAX,CAAkBF,CAAC,CAACG,MAAF,CAASC,KAA3B;AACD,K;;;;;;;0CA3BqBE,S,EAAW;AAC/B,aACE,KAAKT,KAAL,CAAWU,WAAX,KAA2BD,SAAS,CAACC,WAArC,IACA,KAAKV,KAAL,CAAWW,QAAX,KAAwBF,SAAS,CAACE,QAFpC;AAID;;;6BAwBQ;AAAA,wBAC2B,KAAKX,KADhC;AAAA,UACCW,QADD,eACCA,QADD;AAAA,UACWD,WADX,eACWA,WADX;AAGP,aACE,6BAAC,aAAD;AACE,QAAA,IAAI,EAAC,OADP;AAEE,QAAA,IAAI,EAAC,KAFP;AAGE,QAAA,GAAG,EAAEC,QAAQ,IAAIA,QAAQ,CAACC,OAAT,CAAiB,CAAjB,CAHnB;AAIE,QAAA,KAAK,EAAEF,WAJT;AAKE,QAAA,QAAQ,EAAEC,QALZ;AAME,QAAA,WAAW,EAAED,WANf;AAOE,QAAA,WAAW,EAAE,KAAKG,eAPpB;AAQE,QAAA,SAAS,EAAE,KAAKC,aARlB;AASE,QAAA,QAAQ,EAAE,KAAKC;AATjB,QADF;AAaD;;;;EAnD2BC,gB;;;AAsD9B,IAAMC,KAAqE,GACzEC,0BAAOC,KADT;AAGA,IAAMC,aAAa,GAAGH,KAAH,oBAEE,UAAAjB,KAAK;AAAA,SAAKA,KAAK,CAACU,WAAN,GAAoB,GAArB,GAA4BV,KAAK,CAACW,QAAtC;AAAA,CAFP,CAAnB","sourcesContent":["import React, { Component } from \"react\"\nimport styled, { StyledFunction } from \"styled-components\"\n\ninterface Props extends React.HTMLProps<HTMLDivElement> {\n  duration: number\n  currentTime: number\n  isPlaying: boolean\n  pause: () => void\n  play: () => void\n  seekTo: (v) => void\n}\n\ninterface InputProps extends React.HTMLProps<HTMLInputElement> {\n  duration: number\n  currentTime: number\n}\n\ninterface State {\n  isScrubbing: boolean\n  isPlayingOnMouseDown: boolean\n}\n\nexport class Scrubber extends Component<Props, State> {\n  state = {\n    isScrubbing: false,\n    isPlayingOnMouseDown: false,\n  }\n\n  shouldComponentUpdate(nextProps) {\n    return (\n      this.props.currentTime !== nextProps.currentTime ||\n      this.props.duration !== nextProps.duration\n    )\n  }\n\n  handleMouseDown = () => {\n    this.setState({\n      isPlayingOnMouseDown: this.props.isPlaying,\n    })\n    this.props.pause()\n  }\n\n  handleMouseUp = e => {\n    if (!this.state.isScrubbing) {\n      this.props.seekTo(e.target.value)\n    }\n    if (this.state.isPlayingOnMouseDown) {\n      this.props.play()\n    }\n    this.setState({ isScrubbing: false })\n  }\n\n  handleChange = e => {\n    this.setState({ isScrubbing: true })\n    this.props.seekTo(e.target.value)\n  }\n\n  render() {\n    const { duration, currentTime } = this.props\n\n    return (\n      <ScrubberInput\n        type=\"range\"\n        step=\"any\"\n        max={duration && duration.toFixed(4)}\n        value={currentTime}\n        duration={duration}\n        currentTime={currentTime}\n        onMouseDown={this.handleMouseDown}\n        onMouseUp={this.handleMouseUp}\n        onChange={this.handleChange}\n      />\n    )\n  }\n}\n\nconst Input: StyledFunction<InputProps & React.HTMLProps<HTMLInputElement>> =\n  styled.input\n\nconst ScrubberInput = Input`\n  width: 100%;\n  background-size: ${props => (props.currentTime * 100) / props.duration}% 100%;\n  height: 18px;\n  margin-top: 15px;\n  appearance: none;\n  background: transparent;\n  ::-webkit-slider-thumb {\n    appearance: none;\n  }\n  ::-ms-track {\n    width: 100%;\n    height: 2px;\n    cursor: pointer;\n    background: transparent;\n    border: 0px;\n    color: transparent;\n  }\n  ::-webkit-slider-runnable-track {\n    height: 2px;\n    cursor: pointer;\n    animate: 0.2s;\n    background-color: white;\n    border: 0px;\n  }\n  ::-moz-range-track {\n    height: 2px;\n    cursor: pointer;\n    animate: 0.2s;\n    background-color: white;\n    border: 0px;\n  }\n  ::-webkit-slider-thumb {\n    color: white;\n    border: 0px;\n    height: 12px;\n    width: 12px;\n    border-radius: 50px;\n    background: white;\n    cursor: pointer;\n    margin-top: -5px;\n    appearance: none;\n  }\n  ::-moz-range-thumb {\n    color: white;\n    box-shadow: 0px 0px 0px white;\n    border: 0px;\n    height: 12px;\n    width: 12px;\n    border-radius: 50px;\n    background: white;\n    cursor: pointer;\n    margin-top: -5px;\n    appearance: none;\n  }\n  ::-ms-fill-lower {\n    background: white;\n    border: 0px;\n  }\n  ::-ms-fill-upper {\n    background: white;\n    border: 0px;\n  }\n  ::-ms-thumb {\n    color: white;\n    box-shadow: 0px 0px 0px white;\n    border: 0px;\n    height: 12px;\n    width: 12px;\n    border-radius: 50px;\n    background: white;\n    cursor: pointer;\n    margin-top: -5px;\n    appearance: none;\n  }\n  &:focus::-webkit-slider-runnable-track {\n    background: white;\n  }\n  &:focus {\n    outline: none;\n  }\n`\n"],"file":"Scrubber.js"}