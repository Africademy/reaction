{"version":3,"sources":["../../src/Components/QuickInput.tsx"],"names":["QuickInput","focused","value","props","touchedOnChange","e","setState","onFocus","setTouched","name","onBlur","currentTarget","onChange","newProps","error","className","label","_ref","ref","rightAddOn","note","showLabel","state","React","Component","Container","styled","div","InputComponent","input","InputContainer","attrs","borderedInput","p","hasLabel","Label","out","fadeOut","fadeIn","InputNote","Colors","graySemibold"],"mappings":"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","sourcesContent":["import { space } from \"@artsy/palette\"\nimport { fadeIn, fadeOut } from \"Assets/Animations\"\nimport Colors from \"Assets/Colors\"\nimport { garamond, unica } from \"Assets/Fonts\"\nimport React from \"react\"\nimport styled from \"styled-components\"\nimport { borderedInput } from \"./Mixins\"\n\nimport { ExtractProps } from \"Utils/ExtractProps\"\nimport { InputError } from \"./Input\"\n\nexport interface QuickInputProps extends ExtractProps<typeof InputComponent> {\n  block?: boolean\n  error?: string\n  label?: string\n  note?: string\n  rightAddOn?: JSX.Element\n  setTouched?: (fields: { [field: string]: boolean }) => void\n  touchedOnChange?: boolean\n}\n\nexport interface QuickInputState {\n  focused: boolean\n  value: string\n}\n\n/**\n * Quick input. Renders the label inside of the textbox.\n *\n */\nexport class QuickInput extends React.Component<\n  QuickInputProps,\n  QuickInputState\n> {\n  state = {\n    focused: false,\n    value: (this.props.value as string) || \"\",\n    touchedOnChange: true,\n  }\n\n  UNSAFE_componentWillReceiveProps(newProps) {\n    if (this.props.name !== newProps.name) {\n      this.setState({\n        value: \"\",\n      })\n    }\n  }\n\n  onFocus = e => {\n    this.setState({\n      focused: true,\n    })\n\n    if (this.props.onFocus) {\n      this.props.onFocus(e)\n    }\n  }\n\n  onBlur = e => {\n    if (this.props.setTouched) {\n      this.props.setTouched({ [this.props.name]: true })\n    }\n    this.setState({\n      focused: false,\n    })\n\n    if (this.props.onBlur) {\n      this.props.onBlur(e)\n    }\n  }\n\n  onChange = e => {\n    if (this.props.touchedOnChange && this.props.setTouched) {\n      this.props.setTouched({ [this.props.name]: true })\n    }\n    this.setState({\n      value: e.currentTarget.value,\n    })\n\n    if (this.props.onChange) {\n      this.props.onChange(e)\n    }\n  }\n\n  render() {\n    const {\n      error,\n      className,\n      label,\n      ref: _ref,\n      onChange,\n      setTouched,\n      rightAddOn,\n      note,\n      ...newProps\n    } = this.props\n    const showLabel = (!!this.state.focused || !!this.state.value) && !!label\n\n    return (\n      <Container>\n        <InputContainer\n          hasLabel={!!label}\n          hasError={!!error}\n          className={this.state.focused ? \"focused\" : \"\"}\n        >\n          <Label out={!showLabel}>{label}</Label>\n          <InputComponent\n            {...newProps}\n            onFocus={this.onFocus}\n            onBlur={this.onBlur}\n            onChange={this.onChange}\n            value={this.state.value}\n            showLabel={showLabel}\n          />\n          {rightAddOn}\n        </InputContainer>\n        {note && <InputNote>{note}</InputNote>}\n        {error && <InputError>{error}</InputError>}\n      </Container>\n    )\n  }\n}\n\nconst Container = styled.div`\n  padding-bottom: ${space(0.5)}px;\n`\n\nconst InputComponent = styled.input`\n  ${garamond(\"s17\")};\n  border: 0;\n  outline: none;\n  flex: 1;\n  transition: all 0.25s;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  padding: 0 ${space(1)}px;\n  line-height: initial;\n  ${(props: { showLabel?: boolean }) =>\n    props.showLabel && `padding: ${space(1)}px ${space(1)}px 0 ${space(1)}px`};\n`\n\nconst InputContainer = styled.div.attrs<{\n  hasLabel?: boolean\n  hasError: boolean\n}>({})`\n  ${borderedInput};\n  margin-right: 0;\n  margin-top: ${space(0.5)}px;\n  margin-bottom: ${space(1)}px;\n  display: flex;\n  position: relative;\n  height: ${p => (p.hasLabel ? `${space(4)}px` : `${space(2)}px`)};\n  flex-direction: row;\n  align-items: center;\n  box-sizing: content-box;\n`\n\nconst Label = styled.label.attrs<{ out: boolean }>({})`\n  ${unica(\"s12\", \"medium\")};\n  position: absolute;\n  left: ${space(1)}px;\n  top: ${space(1)}px;\n  visibility: ${p => (p.out ? \"hidden\" : \"visible\")};\n  animation: ${p => (p.out ? fadeOut : fadeIn)} 0.2s linear;\n  transition: visibility 0.2s linear;\n  z-index: 1;\n`\n\nconst InputNote = styled.div`\n  ${unica(\"s12\")};\n  margin-top: ${space(1)}px;\n  color: ${Colors.graySemibold};\n  height: 16px;\n`\n\nexport default QuickInput\n"],"file":"QuickInput.js"}