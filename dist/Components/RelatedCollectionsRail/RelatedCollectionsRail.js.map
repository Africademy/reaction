{"version":3,"sources":["../../../src/Components/RelatedCollectionsRail/RelatedCollectionsRail.tsx"],"names":["RelatedCollectionsRail","dispatch","data","Events","postEvent","action_type","Schema","ActionType","Impression","context_module","ContextModule","CollectionsRail","context_page_owner_type","OwnerType","Collection","Click","type","Type","Button","subject","Subject","ClickedNextButton","collections","props","title","length","trackImpression","bind","groupCells","sd","IS_MOBILE","cellAlign","contain","wrapAround","pageDots","draggable","trackCarouselNav","slide","Arrow","React","Component","ArrowContainer","Box","ArrowButton","RelatedCollectionsRailFragmentContainer"],"mappings":"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","sourcesContent":["import { Box, Serif, Spacer } from \"@artsy/palette\"\nimport { RelatedCollectionsRail_collections } from \"__generated__/RelatedCollectionsRail_collections.graphql\"\nimport { track } from \"Artsy/Analytics\"\nimport * as Schema from \"Artsy/Analytics/Schema\"\nimport { ArrowButton, Carousel } from \"Components/v2/Carousel\"\nimport { once, take } from \"lodash\"\nimport React from \"react\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\nimport Waypoint from \"react-waypoint\"\nimport { data as sd } from \"sharify\"\nimport styled from \"styled-components\"\nimport Events from \"Utils/Events\"\nimport { RelatedCollectionEntityFragmentContainer as RelatedCollectionEntity } from \"./RelatedCollectionEntity\"\n\ninterface RelatedCollectionsRailProps {\n  collections: RelatedCollectionsRail_collections\n  title?: string\n}\n\n@track(null, {\n  dispatch: data => Events.postEvent(data),\n})\nexport class RelatedCollectionsRail extends React.Component<\n  RelatedCollectionsRailProps\n> {\n  @track({\n    action_type: Schema.ActionType.Impression,\n    context_module: Schema.ContextModule.CollectionsRail,\n    context_page_owner_type: Schema.OwnerType.Collection,\n  })\n  trackImpression() {\n    // noop\n  }\n\n  @track({\n    action_type: Schema.ActionType.Click,\n    context_module: Schema.ContextModule.CollectionsRail,\n    context_page_owner_type: Schema.OwnerType.Collection,\n    type: Schema.Type.Button,\n    subject: Schema.Subject.ClickedNextButton,\n  })\n  trackCarouselNav() {\n    // noop\n  }\n\n  render() {\n    const { collections } = this.props\n    const { title } = this.props\n    if (collections.length > 3) {\n      return (\n        <Box>\n          <Waypoint onEnter={once(this.trackImpression.bind(this))} />\n          <Serif size=\"8\" color=\"black100\">\n            More like {title}\n          </Serif>\n          <Spacer pb={4} />\n\n          <Carousel\n            height=\"200px\"\n            options={{\n              groupCells: sd.IS_MOBILE ? 1 : 4,\n              cellAlign: \"left\",\n              contain: true,\n              wrapAround: sd.IS_MOBILE ? true : false,\n              pageDots: false,\n              draggable: sd.IS_MOBILE ? true : false,\n            }}\n            onArrowClick={this.trackCarouselNav.bind(this)}\n            data={take(collections, 16)}\n            render={slide => {\n              return <RelatedCollectionEntity collection={slide} />\n            }}\n            renderLeftArrow={({ Arrow }) => {\n              return (\n                <ArrowContainer>\n                  <Arrow />\n                </ArrowContainer>\n              )\n            }}\n            renderRightArrow={({ Arrow }) => {\n              return (\n                <ArrowContainer>\n                  {collections.length > 4 && <Arrow />}\n                </ArrowContainer>\n              )\n            }}\n          />\n        </Box>\n      )\n    } else {\n      return null\n    }\n  }\n}\n\nconst ArrowContainer = styled(Box)`\n  align-self: flex-start;\n\n  ${ArrowButton} {\n    height: 60%;\n  }\n`\n\nexport const RelatedCollectionsRailFragmentContainer = createFragmentContainer(\n  RelatedCollectionsRail,\n  {\n    collections: graphql`\n      fragment RelatedCollectionsRail_collections on MarketingCollection\n        @relay(plural: true) {\n        ...RelatedCollectionEntity_collection\n      }\n    `,\n  }\n)\n"],"file":"RelatedCollectionsRail.js"}