{"version":3,"sources":["../../../src/Components/Tag/TagArtworks.tsx"],"names":["FilterBar","styled","div","SubFilterBar","TagArtworks","props","tag","filtered_artworks","aggregations","map","aggregation","slice","toLowerCase","onDropdownSelected","for_sale","onForSaleToggleSelected","pulldownOptions","val","name","selectedSort","find","sort","lineHeight","medium","price_range","dimension_range","facet","onSortSelected","id","renderForSaleToggle","renderDropdown","renderArtworks","React","Component"],"mappings":"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","sourcesContent":["import { TagArtworks_tag } from \"__generated__/TagArtworks_tag.graphql\"\nimport * as React from \"react\"\nimport {\n  createFragmentContainer,\n  graphql,\n  RelayPaginationProp,\n} from \"react-relay\"\nimport styled from \"styled-components\"\nimport Dropdown from \"../ArtworkFilter/Dropdown\"\nimport ForSaleCheckbox from \"../ArtworkFilter/ForSaleCheckbox\"\nimport Headline from \"../ArtworkFilter/Headline\"\nimport TotalCount from \"../ArtworkFilter/TotalCount\"\nimport BorderedPulldown from \"../BorderedPulldown\"\nimport TagArtworksContent from \"./TagArtworksContent\"\n\ninterface Filters {\n  for_sale?: boolean\n  dimension_range?: string\n  price_range?: string\n  medium?: string\n}\n\ninterface Props extends Filters {\n  relay: RelayPaginationProp\n  tag: TagArtworks_tag\n  onDropdownSelected: (slice: string, value: string) => void\n  onSortSelected: (sort: string) => void\n  onForSaleToggleSelected: () => void\n  sort?: string\n}\n\nconst FilterBar = styled.div`\n  vertical-align: middle;\n  text-align: center;\n\n  > div {\n    display: inline-block;\n  }\n`\n\nconst SubFilterBar = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 40px 0 20px;\n  align-items: center;\n`\n\nexport class TagArtworks extends React.Component<Props, null> {\n  renderDropdown() {\n    return this.props.tag.filtered_artworks.aggregations.map(aggregation => {\n      return (\n        <Dropdown\n          aggregation={aggregation}\n          key={aggregation.slice}\n          selected={\n            aggregation.slice && this.props[aggregation.slice.toLowerCase()]\n          }\n          onSelected={this.props.onDropdownSelected}\n        />\n      )\n    })\n  }\n\n  renderForSaleToggle() {\n    return (\n      <ForSaleCheckbox\n        checked={this.props.for_sale}\n        onChange={this.props.onForSaleToggleSelected}\n      />\n    )\n  }\n\n  renderArtworks() {\n    const pulldownOptions = [\n      { val: \"-partner_updated_at\", name: \"Recently Updated\" },\n      { val: \"-year\", name: \"Artwork Year (desc.)\" },\n      { val: \"year\", name: \"Artwork Year (asc.)\" },\n    ]\n    const selectedSort = pulldownOptions.find(\n      sort => sort.val === this.props.sort\n    )\n    return (\n      <div>\n        <SubFilterBar>\n          <div style={{ lineHeight: \"1.8em\" }}>\n            <Headline\n              medium={this.props.medium}\n              price_range={this.props.price_range}\n              dimension_range={this.props.dimension_range}\n              for_sale={this.props.for_sale}\n              facet={this.props.tag.filtered_artworks.facet}\n              aggregations={this.props.tag.filtered_artworks.aggregations}\n            />\n            <TotalCount filter_artworks={this.props.tag.filtered_artworks} />\n          </div>\n          <BorderedPulldown\n            defaultValue=\"Recently Updated\"\n            selectedName={selectedSort && selectedSort.name}\n            options={pulldownOptions}\n            onChange={this.props.onSortSelected}\n          />\n        </SubFilterBar>\n        <TagArtworksContent\n          tagID={this.props.tag.id}\n          filtered_artworks={this.props.tag.filtered_artworks}\n        />\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div>\n        <FilterBar>\n          {this.renderForSaleToggle()}\n          {this.renderDropdown()}\n        </FilterBar>\n        {this.renderArtworks()}\n      </div>\n    )\n  }\n}\n\nexport default createFragmentContainer(TagArtworks, {\n  tag: graphql`\n    fragment TagArtworks_tag on Tag\n      @argumentDefinitions(\n        for_sale: { type: \"Boolean\" }\n        medium: { type: \"String\", defaultValue: \"*\" }\n        aggregations: {\n          type: \"[ArtworkAggregation]\"\n          defaultValue: [MEDIUM, TOTAL, PRICE_RANGE, DIMENSION_RANGE]\n        }\n        price_range: { type: \"String\", defaultValue: \"*\" }\n        dimension_range: { type: \"String\", defaultValue: \"*\" }\n      ) {\n      id\n      filtered_artworks(\n        aggregations: $aggregations\n        for_sale: $for_sale\n        medium: $medium\n        price_range: $price_range\n        dimension_range: $dimension_range\n        size: 0\n      ) {\n        ...TotalCount_filter_artworks\n        ...TagArtworksContent_filtered_artworks\n        aggregations {\n          slice\n          counts {\n            name\n            id\n          }\n          ...Dropdown_aggregation\n        }\n        facet {\n          ...Headline_facet\n        }\n      }\n    }\n  `,\n})\n"],"file":"TagArtworks.js"}