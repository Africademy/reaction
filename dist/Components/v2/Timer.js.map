{"version":3,"sources":["../../../src/Components/v2/Timer.tsx"],"names":["padWithZero","num","toString","padStart","SEPARATOR","Timer","endDate","labelWithTimeRemaining","labelWithoutTimeRemaining","currentTime","duration","Duration","fromISO","DateTime","diff","hasEnded","Math","floor","seconds","max","as"],"mappings":";;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA,SAASA,WAAT,CAAqBC,GAArB,EAAkC;AAChC,SAAOA,GAAG,CAACC,QAAJ,GAAeC,QAAf,CAAwB,CAAxB,EAA2B,GAA3B,CAAP;AACD;;AAED,IAAMC,SAAS,GAAG,uEAAlB;;AAEO,IAAMC,KAIX,GAAG,SAJQA,KAIR;AAAA,MAAGC,OAAH,QAAGA,OAAH;AAAA,MAAYC,sBAAZ,QAAYA,sBAAZ;AAAA,MAAoCC,yBAApC,QAAoCA,yBAApC;AAAA,SACH,6BAAC,gCAAD;AAAiB,IAAA,cAAc;AAA/B,KACG,UAAAC,WAAW,EAAI;AACd,QAAMC,QAAQ,GAAGC,gBAASC,OAAT,CACfC,gBAASD,OAAT,CAAiBN,OAAjB,EACGQ,IADH,CACQD,gBAASD,OAAT,CAAiBH,WAAjB,CADR,EAEGP,QAFH,EADe,CAAjB;;AAMA,QAAMa,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWP,QAAQ,CAACQ,OAApB,KAAgC,CAAjD;AAEA,WACE,6BAAC,aAAD;AAAM,MAAA,aAAa,EAAC,QAApB;AAA6B,MAAA,UAAU,EAAC;AAAxC,OACE,6BAAC,aAAD;AAAM,MAAA,IAAI,EAAC,IAAX;AAAgB,MAAA,MAAM,EAAC;AAAvB,OACGlB,WAAW,CAACgB,IAAI,CAACG,GAAL,CAAS,CAAT,EAAYH,IAAI,CAACC,KAAL,CAAWP,QAAQ,CAACU,EAAT,CAAY,MAAZ,CAAX,CAAZ,CAAD,CADd,OAEGhB,SAFH,EAGGJ,WAAW,CAACgB,IAAI,CAACG,GAAL,CAAS,CAAT,EAAYH,IAAI,CAACC,KAAL,CAAWP,QAAQ,CAACU,EAAT,CAAY,OAAZ,IAAuB,EAAlC,CAAZ,CAAD,CAHd,OAIGhB,SAJH,EAKGJ,WAAW,CAACgB,IAAI,CAACG,GAAL,CAAS,CAAT,EAAYH,IAAI,CAACC,KAAL,CAAWP,QAAQ,CAACU,EAAT,CAAY,SAAZ,IAAyB,EAApC,CAAZ,CAAD,CALd,OAMGhB,SANH,EAOGJ,WAAW,CAACgB,IAAI,CAACG,GAAL,CAAS,CAAT,EAAYH,IAAI,CAACC,KAAL,CAAWP,QAAQ,CAACU,EAAT,CAAY,SAAZ,IAAyB,EAApC,CAAZ,CAAD,CAPd,MADF,EAUG,CAACb,sBAAsB,IAAIC,yBAA3B,KACC,6BAAC,aAAD;AAAM,MAAA,IAAI,EAAC,GAAX;AAAe,MAAA,MAAM,EAAC;AAAtB,OACGO,QAAQ,GAAGP,yBAAH,GAA+BD,sBAD1C,CAXJ,CADF;AAkBD,GA5BH,CADG;AAAA,CAJE","sourcesContent":["import { Flex, Sans } from \"@artsy/palette\"\nimport { WithCurrentTime } from \"Components/WithCurrentTime\"\nimport { DateTime, Duration } from \"luxon\"\nimport React from \"react\"\n\nfunction padWithZero(num: number) {\n  return num.toString().padStart(2, \"0\")\n}\n\nconst SEPARATOR = <>&nbsp;&nbsp;</>\n\nexport const Timer: React.SFC<{\n  endDate: string\n  labelWithTimeRemaining?: string\n  labelWithoutTimeRemaining?: string\n}> = ({ endDate, labelWithTimeRemaining, labelWithoutTimeRemaining }) => (\n  <WithCurrentTime syncWithServer>\n    {currentTime => {\n      const duration = Duration.fromISO(\n        DateTime.fromISO(endDate)\n          .diff(DateTime.fromISO(currentTime))\n          .toString()\n      )\n\n      const hasEnded = Math.floor(duration.seconds) <= 0\n\n      return (\n        <Flex flexDirection=\"column\" alignItems=\"center\">\n          <Sans size=\"4t\" weight=\"medium\">\n            {padWithZero(Math.max(0, Math.floor(duration.as(\"days\"))))}d\n            {SEPARATOR}\n            {padWithZero(Math.max(0, Math.floor(duration.as(\"hours\") % 24)))}h\n            {SEPARATOR}\n            {padWithZero(Math.max(0, Math.floor(duration.as(\"minutes\") % 60)))}m\n            {SEPARATOR}\n            {padWithZero(Math.max(0, Math.floor(duration.as(\"seconds\") % 60)))}s\n          </Sans>\n          {(labelWithTimeRemaining || labelWithoutTimeRemaining) && (\n            <Sans size=\"3\" weight=\"medium\">\n              {hasEnded ? labelWithoutTimeRemaining : labelWithTimeRemaining}\n            </Sans>\n          )}\n        </Flex>\n      )\n    }}\n  </WithCurrentTime>\n)\n"],"file":"Timer.js"}