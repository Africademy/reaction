{"version":3,"sources":["components/artwork/details.js","../src/components/artwork/details.tsx"],"names":["React","require","Relay","text_link_1","ArtworkDetails","props","artwork","cultural_maker","artists","createElement","length","artistLine","map","default","href","artist","key","__id","name","reduce","prev","curr","title","date","collecting_institution","partner","hasSaleMessage","sale_message","notInAuction","sale","is_auction","titleLine","partnerLine","saleLine","Component","exports","Object","defineProperty","value","createContainer","fragments"],"mappings":"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","file":"details.js","sourcesContent":["\"use strict\";\nconst React = require(\"react\");\nconst Relay = require(\"react-relay\");\nconst text_link_1 = require(\"../text_link\");\nclass ArtworkDetails extends React.Component {\n    artistLine() {\n        const { cultural_maker, artists } = this.props.artwork;\n        if (cultural_maker) {\n            return React.createElement(\"div\", null,\n                React.createElement(\"strong\", null, cultural_maker));\n        }\n        else if (artists && artists.length) {\n            let artistLine = artists\n                .map(artist => React.createElement(text_link_1.default, { href: artist.href, key: artist.__id }, artist.name))\n                .reduce((prev, curr) => [prev, \", \", curr]);\n            return React.createElement(\"div\", null,\n                React.createElement(\"strong\", null, artistLine));\n        }\n    }\n    titleLine() {\n        return (React.createElement(text_link_1.default, { href: this.props.artwork.href },\n            React.createElement(\"em\", null, this.props.artwork.title),\n            this.props.artwork.date && `, ${this.props.artwork.date}`));\n    }\n    partnerLine() {\n        if (this.props.artwork.collecting_institution) {\n            return React.createElement(\"div\", null, this.props.artwork.collecting_institution);\n        }\n        else {\n            return (React.createElement(\"div\", null,\n                React.createElement(text_link_1.default, { href: this.props.artwork.partner.href }, this.props.artwork.partner.name)));\n        }\n    }\n    saleLine() {\n        const artwork = this.props.artwork;\n        const hasSaleMessage = artwork.sale_message && artwork.sale_message !== \"Contact For Price\";\n        const notInAuction = !(artwork.sale && artwork.sale.is_auction);\n        if (hasSaleMessage && notInAuction) {\n            return React.createElement(\"div\", null, artwork.sale_message);\n        }\n    }\n    render() {\n        return (React.createElement(\"div\", null,\n            this.artistLine(),\n            this.titleLine(),\n            this.partnerLine(),\n            this.saleLine()));\n    }\n}\nexports.ArtworkDetails = ArtworkDetails;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Relay.createContainer(ArtworkDetails, {\n    fragments: {\n        artwork: () => Relay.QL `\n      fragment on Artwork {\n        href\n        title\n        date\n        sale_message\n        cultural_maker\n        artists(shallow: true) {\n          __id\n          href\n          name\n        }\n        collecting_institution\n        partner(shallow: true) {\n          name\n          href\n        }\n        sale {\n          is_auction\n          is_live_open\n          is_open\n          is_closed\n        }\n      }\n    `,\n    },\n});\n","import * as React from \"react\"\nimport * as Relay from \"react-relay\"\nimport styled from \"styled-components\"\nimport colors from \"../../assets/colors\"\nimport TextLink from \"../text_link\"\n\nexport interface DetailsProps extends React.HTMLProps<ArtworkDetails> {\n  artwork: any\n}\n\nexport class ArtworkDetails extends React.Component<DetailsProps, null> {\n  artistLine() {\n    const { cultural_maker, artists } = this.props.artwork\n\n    if (cultural_maker) {\n      return <div><strong>{cultural_maker}</strong></div>\n    } else if (artists && artists.length) {\n      let artistLine = artists\n        .map(artist => <TextLink href={artist.href} key={artist.__id}>{artist.name}</TextLink>)\n        .reduce((prev, curr) => [prev, \", \", curr])\n\n      return <div><strong>{artistLine}</strong></div>\n    }\n  }\n\n  titleLine() {\n    return (\n      <TextLink href={this.props.artwork.href}>\n        <em>{this.props.artwork.title}</em>\n        {this.props.artwork.date && `, ${this.props.artwork.date}`}\n      </TextLink>\n    )\n  }\n\n  partnerLine() {\n    if (this.props.artwork.collecting_institution) {\n      return <div>{this.props.artwork.collecting_institution}</div>\n    } else {\n      return (\n        <div>\n          <TextLink href={this.props.artwork.partner.href}>\n            {this.props.artwork.partner.name}\n          </TextLink>\n        </div>\n      )\n    }\n  }\n\n  saleLine() {\n    const artwork = this.props.artwork\n    const hasSaleMessage = artwork.sale_message && artwork.sale_message !== \"Contact For Price\"\n    const notInAuction = !(artwork.sale && artwork.sale.is_auction)\n    if (hasSaleMessage && notInAuction) {\n      return <div>{artwork.sale_message}</div>\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {this.artistLine()}\n        {this.titleLine()}\n        {this.partnerLine()}\n        {this.saleLine()}\n      </div>\n    )\n  }\n}\n\nexport default Relay.createContainer(ArtworkDetails, {\n  fragments: {\n    artwork: () => Relay.QL`\n      fragment on Artwork {\n        href\n        title\n        date\n        sale_message\n        cultural_maker\n        artists(shallow: true) {\n          __id\n          href\n          name\n        }\n        collecting_institution\n        partner(shallow: true) {\n          name\n          href\n        }\n        sale {\n          is_auction\n          is_live_open\n          is_open\n          is_closed\n        }\n      }\n    `,\n  },\n})\n\ninterface RelayProps {\n  artwork: {\n    href: string | null,\n    title: string | null,\n    date: string | null,\n    sale_message: string | null,\n    cultural_maker: string | null,\n    artists: Array<{\n      name: string | null,\n    } | null> | null,\n    collecting_institution: string | null,\n    partner: {\n      name: string | null,\n    } | null,\n    sale: {\n      is_auction: boolean | null,\n      is_live_open: boolean | null,\n      is_open: boolean | null,\n      is_closed: boolean | null,\n    } | null,\n  },\n}\n"]}