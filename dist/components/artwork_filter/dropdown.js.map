{"version":3,"sources":["components/artwork_filter/dropdown.js","../src/components/artwork_filter/dropdown.tsx"],"names":["numeral","require","React","Relay","icon_1","styled_components_1","colors_1","fonts_1","param_map_1","Dropdown","props","state","isHovered","selected","value","setState","count","slice","onSelect","aggregation","navItems","counts","map","createElement","NavItem","key","id","onClick","name","NavItemCount","format","labels","labelMap","toLowerCase","unshift","plural","buttonColor","buttonTextColor","superLabelColor","navStyle","display","default","purpleRegular","labelText","label","superLabelText","className","onMouseEnter","toggleHover","onMouseLeave","Button","style","backgroundColor","color","SuperLabel","fontSize","position","right","Nav","Component","exports","div","grayRegular","primary","secondary","grayBold","span","graySemibold","StyledDropdown","Object","defineProperty","createContainer","fragments"],"mappings":"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","file":"dropdown.js","sourcesContent":["\"use strict\";\nconst numeral = require(\"numeral\");\nconst React = require(\"react\");\nconst Relay = require(\"react-relay\");\nconst icon_1 = require(\"../icon\");\nconst styled_components_1 = require(\"styled-components\");\nconst colors_1 = require(\"../../assets/colors\");\nconst fonts_1 = require(\"../../assets/fonts\");\nconst param_map_1 = require(\"./param_map\");\nclass Dropdown extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isHovered: false,\n            selected: {},\n        };\n    }\n    toggleHover(value) {\n        this.setState({\n            isHovered: value,\n        });\n    }\n    onSelect(count, slice) {\n        this.setState({\n            selected: count,\n            isHovered: false,\n        });\n        this.props.onSelect(count, slice);\n    }\n    render() {\n        const slice = this.props.aggregation.slice;\n        let navItems = this.props.aggregation.counts.map(count => {\n            return (React.createElement(NavItem, { key: count.id, onClick: () => this.onSelect(count, slice) },\n                React.createElement(\"span\", null, count.name),\n                React.createElement(NavItemCount, null,\n                    \"\\u00A0(\",\n                    numeral(count.count).format(\"0,0\"),\n                    \")\")));\n        });\n        const labels = param_map_1.labelMap[this.props.aggregation.slice.toLowerCase()];\n        navItems.unshift((React.createElement(NavItem, { key: \"all\", onClick: () => this.onSelect({ value: \"*\" }, slice) },\n            React.createElement(\"span\", null,\n                \"All \",\n                labels.plural))));\n        let buttonColor = \"white\";\n        let buttonTextColor = \"black\";\n        let superLabelColor = \"black\";\n        let navStyle = { display: \"none\" };\n        if (this.state.selected.name) {\n            buttonTextColor = colors_1.default.purpleRegular;\n        }\n        if (this.state.isHovered) {\n            buttonColor = \"black\";\n            buttonTextColor = \"white\";\n            superLabelColor = \"white\";\n            navStyle = { display: \"block\" };\n        }\n        const labelText = this.state.selected.name || labels.label;\n        const superLabelText = this.state.selected.name ? labels.label : null;\n        return (React.createElement(\"div\", { className: this.props.className, onMouseEnter: () => this.toggleHover(true), onMouseLeave: () => this.toggleHover(false) },\n            React.createElement(Button, { style: { backgroundColor: buttonColor, color: buttonTextColor } },\n                superLabelText && React.createElement(SuperLabel, { style: { color: superLabelColor } }, superLabelText),\n                labelText,\n                React.createElement(icon_1.default, { name: \"arrow-down\", fontSize: \"9px\", color: buttonTextColor, style: { position: \"absolute\", right: 15 } })),\n            React.createElement(Nav, { style: navStyle }, navItems)));\n    }\n}\nexports.Dropdown = Dropdown;\nconst Button = styled_components_1.default.div `\n  background: white;\n  color: black;\n  border: 1px solid ${colors_1.default.grayRegular};\n  display: inline-block;\n  line-height: 160%;\n  padding: 15px 35px 10px 18px;\n  font-size: 13px;\n  vertical-align: middle;\n  max-width: 120px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  ${fonts_1.primary.style}\n`;\nconst Nav = styled_components_1.default.div `\n  z-index: 2;\n  background: black;\n  position: absolute;\n  top: 45px;\n  left: 1px;\n  width: 300px;\n  border: 1px solid #333;\n`;\nconst SuperLabel = styled_components_1.default.div `\n  position: absolute\n  font-size: 9px\n  margin-top: -15px;\n  color: black\n`;\nconst NavItem = styled_components_1.default.div `\n  ${fonts_1.secondary.style}\n  text-align: left;\n  color: white;\n  display: block;\n  border-bottom: 1px solid #333;\n  padding: 15px 18px 10px 18px;\n  text-transform: capitalize;\n  &:hover {\n    background: ${colors_1.default.grayBold};\n  }\n`;\nconst NavItemCount = styled_components_1.default.span `\n  color: ${colors_1.default.graySemibold}\n`;\nconst StyledDropdown = styled_components_1.default(Dropdown) `\n  position: relative;\n  display: inline-block;\n  cursor: pointer;\n  margin-left: -1px;\n`;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Relay.createContainer(StyledDropdown, {\n    fragments: {\n        aggregation: () => Relay.QL `\n      fragment on ArtworksAggregationResults {\n        slice\n        counts {\n          name\n          id\n          count\n        }\n      }\n    `,\n    },\n});\n","import * as numeral from \"numeral\"\nimport * as React from \"react\"\nimport * as Relay from \"react-relay\"\n\nimport Icon from \"../icon\"\n\nimport styled from \"styled-components\"\nimport colors from \"../../assets/colors\"\nimport { primary, secondary } from \"../../assets/fonts\"\nimport { labelMap } from \"./param_map\"\n\ninterface DropdownProps extends RelayProps, React.HTMLProps<Dropdown> {\n  aggregation: any\n  onSelect?: any\n}\n\ninterface DropdownState {\n  isHovered: boolean,\n  selected: any\n}\n\nexport class Dropdown extends React.Component<DropdownProps, DropdownState> {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isHovered: false,\n      selected: {},\n    }\n  }\n\n  toggleHover(value) {\n    this.setState({\n      isHovered: value,\n    })\n  }\n\n  onSelect(count, slice) {\n    this.setState({\n      selected: count,\n      isHovered: false,\n    })\n    this.props.onSelect(count, slice)\n  }\n\n  render() {\n    const slice = this.props.aggregation.slice\n    let navItems = this.props.aggregation.counts.map(count => {\n      return (\n        <NavItem key={count.id} onClick={() => this.onSelect(count, slice)}>\n          <span>{count.name}</span>\n          <NavItemCount>&nbsp;({numeral(count.count).format(\"0,0\")})</NavItemCount>\n        </NavItem>\n      )\n    })\n\n    const labels = labelMap[this.props.aggregation.slice.toLowerCase()]\n    navItems.unshift(\n      (\n        <NavItem key=\"all\" onClick={() => this.onSelect({value: \"*\"}, slice)}>\n          <span>All {labels.plural}</span>\n        </NavItem>\n      ),\n    )\n\n    let buttonColor = \"white\"\n    let buttonTextColor = \"black\"\n    let superLabelColor = \"black\"\n    let navStyle = { display: \"none\" }\n\n    if (this.state.selected.name) {\n      buttonTextColor = colors.purpleRegular\n    }\n\n    if (this.state.isHovered) {\n      buttonColor = \"black\"\n      buttonTextColor = \"white\"\n      superLabelColor = \"white\"\n      navStyle = { display: \"block\" }\n    }\n\n    const labelText = this.state.selected.name || labels.label\n    const superLabelText = this.state.selected.name ? labels.label : null\n\n    return (\n      <div\n        className={this.props.className}\n        onMouseEnter={() => this.toggleHover(true)}\n        onMouseLeave={() => this.toggleHover(false)}\n      >\n        <Button style={{ backgroundColor: buttonColor, color: buttonTextColor }}>\n          {superLabelText && <SuperLabel style={{ color: superLabelColor }}>{superLabelText}</SuperLabel>}\n          {labelText}\n          <Icon\n            name=\"arrow-down\"\n            fontSize=\"9px\"\n            color={buttonTextColor}\n            style={{ position: \"absolute\", right: 15 }}\n          />\n        </Button>\n        <Nav style={navStyle}>\n          {navItems}\n        </Nav>\n      </div>\n    )\n  }\n}\n\nconst Button = styled.div`\n  background: white;\n  color: black;\n  border: 1px solid ${colors.grayRegular};\n  display: inline-block;\n  line-height: 160%;\n  padding: 15px 35px 10px 18px;\n  font-size: 13px;\n  vertical-align: middle;\n  max-width: 120px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  ${primary.style}\n`\n\nconst Nav = styled.div`\n  z-index: 2;\n  background: black;\n  position: absolute;\n  top: 45px;\n  left: 1px;\n  width: 300px;\n  border: 1px solid #333;\n`\n\nconst SuperLabel = styled.div`\n  position: absolute\n  font-size: 9px\n  margin-top: -15px;\n  color: black\n`\n\nconst NavItem = styled.div`\n  ${secondary.style}\n  text-align: left;\n  color: white;\n  display: block;\n  border-bottom: 1px solid #333;\n  padding: 15px 18px 10px 18px;\n  text-transform: capitalize;\n  &:hover {\n    background: ${colors.grayBold};\n  }\n`\nconst NavItemCount = styled.span`\n  color: ${colors.graySemibold}\n`\n\nconst StyledDropdown = styled(Dropdown)`\n  position: relative;\n  display: inline-block;\n  cursor: pointer;\n  margin-left: -1px;\n`\n\nexport default Relay.createContainer(StyledDropdown, {\n  fragments: {\n    aggregation: () => Relay.QL`\n      fragment on ArtworksAggregationResults {\n        slice\n        counts {\n          name\n          id\n          count\n        }\n      }\n    `,\n  },\n})\n\ninterface RelayProps {\n  aggregation: {\n    slice: string | null,\n    counts: {\n      name: string | null,\n      id: string | null,\n      count: number | null,\n    },\n  } | null,\n}\n"]}