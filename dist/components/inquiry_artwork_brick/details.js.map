{"version":3,"sources":["components/inquiry_artwork_brick/details.js","../src/components/inquiry_artwork_brick/details.tsx"],"names":["React","require","Relay","styled_components_1","text_link_1","DetailsContainer","default","div","ArtworkDetails","props","artwork","cultural_maker","artists","createElement","length","artistLine","map","href","artist","key","__id","name","reduce","prev","curr","title","date","collecting_institution","partner","titleLine","partnerLine","Component","exports","Object","defineProperty","value","createContainer","fragments"],"mappings":"AAAA,a;ACAA,IAAAA,QAAAC,QAAA,OAAA,CAAA;AACA,IAAAC,QAAAD,QAAA,aAAA,CAAA;AACA,IAAAE,sBAAAF,QAAA,mBAAA,CAAA;AAEA,IAAAG,cAAAH,QAAA,cAAA,CAAA;AAMA,IAAMI,mBAAmBF,oBAAAG,OAAA,CAAOC,GAA1B,iBAAN,C;;;;AAKAC,c;AACY;AAC4B,iBAAKC,KAAL,CAAWC,OADvC,CACAC,cADA,kBACAA,cADA,CACgBC,OADhB,kBACgBA,OADhB;AAGR,gBAAID,cAAJ,EAAoB;AAClB,uBAAOX,MAAAa,aAAA,CAAA,KAAA,EAAA,IAAA;AAAKb,sBAAAa,aAAA,CAAA,QAAA,EAAA,IAAA,EAASF,cAAT,CAAL,CAAP;AACD,aAFD;AAEO,gBAAIC,WAAWA,QAAQE,MAAvB,EAA+B;AACpC,oBAAIC,aAAaH;AACdI,mBADc,CACV,0BAAUhB,MAAAa,aAAA,CAACT,YAAAE,OAAD,EAAS,EAACW,MAAMC,OAAOD,IAAd,EAAoBE,KAAKD,OAAOE,IAAhC,EAAT,EAAgDF,OAAOG,IAAvD,CAAV,EADU;AAEdC,sBAFc,CAEP,UAACC,IAAD,EAAOC,IAAP,UAAgB,CAACD,IAAD,EAAO,IAAP,EAAaC,IAAb,CAAhB,EAFO,CAAjB;AAIA,uBAAOxB,MAAAa,aAAA,CAAA,KAAA,EAAA,IAAA;AAAKb,sBAAAa,aAAA,CAAA,QAAA,EAAA,IAAA,EAASE,UAAT,CAAL,CAAP;AACD;AACF,S;AAEQ;AACP,mBACEf,MAAAa,aAAA,CAACT,YAAAE,OAAD,EAAS,EAACW,MAAM,KAAKR,KAAL,CAAWC,OAAX,CAAmBO,IAA1B,EAAT;AACEjB,kBAAAa,aAAA,CAAA,IAAA,EAAA,IAAA,EAAK,KAAKJ,KAAL,CAAWC,OAAX,CAAmBe,KAAxB,CADF;AAEG,iBAAKhB,KAAL,CAAWC,OAAX,CAAmBgB,IAAnB,WAAgC,KAAKjB,KAAL,CAAWC,OAAX,CAAmBgB,IAFtD,CADF;AAMD,S;AAEU;AACT,gBAAI,KAAKjB,KAAL,CAAWC,OAAX,CAAmBiB,sBAAvB,EAA+C;AAC7C,uBAAO3B,MAAAa,aAAA,CAAA,KAAA,EAAA,IAAA,EAAM,KAAKJ,KAAL,CAAWC,OAAX,CAAmBiB,sBAAzB,CAAP;AACD,aAFD;AAEO;AACL,uBACE3B,MAAAa,aAAA,CAAA,KAAA,EAAA,IAAA;AACEb,sBAAAa,aAAA,CAACT,YAAAE,OAAD,EAAS,EAACW,MAAM,KAAKR,KAAL,CAAWC,OAAX,CAAmBkB,OAAnB,CAA2BX,IAAlC,EAAT,EACG,KAAKR,KAAL,CAAWC,OAAX,CAAmBkB,OAAnB,CAA2BP,IAD9B,CADF,CADF;AAOD;AACF;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;iDAEM;AACJ,mBACErB,MAAAa,aAAA,CAAA,KAAA,EAAA,IAAA;AACG,iBAAKE,UAAL,EADH;AAEG,iBAAKc,SAAL,EAFH;AAGG,iBAAKC,WAAL,EAHH,CADF;AAQD,S,6BAxDiC9B,MAAM+B,S;;AAA1CC,QAAAxB,cAAA,GAAAA,cAAA;ADuCAyB,OAAOC,cAAP,CAAsBF,OAAtB,EAA+B,YAA/B,EAA6C,EAAEG,OAAO,IAAT,EAA7C;ACoBAH,QAAA1B,OAAA,GAAeJ,MAAMkC,eAAN,CAAsB5B,cAAtB,EAAsC;AACnD6B,eAAW;AACT3B,iBAAS,8nDADA,EADwC,EAAtC,CAAf","file":"details.js","sourcesContent":["\"use strict\";\nconst React = require(\"react\");\nconst Relay = require(\"react-relay\");\nconst styled_components_1 = require(\"styled-components\");\nconst text_link_1 = require(\"../text_link\");\nconst DetailsContainer = styled_components_1.default.div `\n  height: 100px;\n  margin-top: 10px;\n`;\nclass ArtworkDetails extends React.Component {\n    artistLine() {\n        const { cultural_maker, artists } = this.props.artwork;\n        if (cultural_maker) {\n            return React.createElement(\"div\", null,\n                React.createElement(\"strong\", null, cultural_maker));\n        }\n        else if (artists && artists.length) {\n            let artistLine = artists\n                .map(artist => React.createElement(text_link_1.default, { href: artist.href, key: artist.__id }, artist.name))\n                .reduce((prev, curr) => [prev, \", \", curr]);\n            return React.createElement(\"div\", null,\n                React.createElement(\"strong\", null, artistLine));\n        }\n    }\n    titleLine() {\n        return (React.createElement(text_link_1.default, { href: this.props.artwork.href },\n            React.createElement(\"em\", null, this.props.artwork.title),\n            this.props.artwork.date && `, ${this.props.artwork.date}`));\n    }\n    partnerLine() {\n        if (this.props.artwork.collecting_institution) {\n            return React.createElement(\"div\", null, this.props.artwork.collecting_institution);\n        }\n        else {\n            return (React.createElement(\"div\", null,\n                React.createElement(text_link_1.default, { href: this.props.artwork.partner.href }, this.props.artwork.partner.name)));\n        }\n    }\n    // saleLine() {\n    //   const artwork = this.props.artwork\n    //   const hasSaleMessage = artwork.sale_message && artwork.sale_message !== \"Contact For Price\"\n    //   const notInAuction = !(artwork.sale && artwork.sale.is_auction)\n    //   if (hasSaleMessage && notInAuction) {\n    //     return <div>{artwork.sale_message}</div>\n    //   }\n    // }\n    render() {\n        return (React.createElement(\"div\", null,\n            this.artistLine(),\n            this.titleLine(),\n            this.partnerLine()));\n    }\n}\nexports.ArtworkDetails = ArtworkDetails;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Relay.createContainer(ArtworkDetails, {\n    fragments: {\n        artwork: () => Relay.QL `\n      fragment on Artwork {\n        href\n        title\n        date\n        cultural_maker\n        artists(shallow: true) {\n          __id\n          href\n          name\n        }\n        collecting_institution\n        partner(shallow: true) {\n          name\n          href\n        }\n      }\n    `,\n    },\n});\n","import * as React from \"react\"\nimport * as Relay from \"react-relay\"\nimport styled from \"styled-components\"\nimport colors from \"../../assets/colors\"\nimport TextLink from \"../text_link\"\n\nexport interface DetailsProps extends React.HTMLProps<ArtworkDetails> {\n  artwork: any\n}\n\nconst DetailsContainer = styled.div`\n  height: 100px;\n  margin-top: 10px;\n`\n\nexport class ArtworkDetails extends React.Component<DetailsProps, null> {\n  artistLine() {\n    const { cultural_maker, artists } = this.props.artwork\n\n    if (cultural_maker) {\n      return <div><strong>{cultural_maker}</strong></div>\n    } else if (artists && artists.length) {\n      let artistLine = artists\n        .map(artist => <TextLink href={artist.href} key={artist.__id}>{artist.name}</TextLink>)\n        .reduce((prev, curr) => [prev, \", \", curr])\n\n      return <div><strong>{artistLine}</strong></div>\n    }\n  }\n\n  titleLine() {\n    return (\n      <TextLink href={this.props.artwork.href}>\n        <em>{this.props.artwork.title}</em>\n        {this.props.artwork.date && `, ${this.props.artwork.date}`}\n      </TextLink>\n    )\n  }\n\n  partnerLine() {\n    if (this.props.artwork.collecting_institution) {\n      return <div>{this.props.artwork.collecting_institution}</div>\n    } else {\n      return (\n        <div>\n          <TextLink href={this.props.artwork.partner.href}>\n            {this.props.artwork.partner.name}\n          </TextLink>\n        </div>\n      )\n    }\n  }\n\n  // saleLine() {\n  //   const artwork = this.props.artwork\n  //   const hasSaleMessage = artwork.sale_message && artwork.sale_message !== \"Contact For Price\"\n  //   const notInAuction = !(artwork.sale && artwork.sale.is_auction)\n  //   if (hasSaleMessage && notInAuction) {\n  //     return <div>{artwork.sale_message}</div>\n  //   }\n  // }\n\n  render() {\n    return (\n      <div>\n        {this.artistLine()}\n        {this.titleLine()}\n        {this.partnerLine()}\n        {/*{this.saleLine()}*/}\n      </div>\n    )\n  }\n}\n\nexport default Relay.createContainer(ArtworkDetails, {\n  fragments: {\n    artwork: () => Relay.QL`\n      fragment on Artwork {\n        href\n        title\n        date\n        cultural_maker\n        artists(shallow: true) {\n          __id\n          href\n          name\n        }\n        collecting_institution\n        partner(shallow: true) {\n          name\n          href\n        }\n      }\n    `,\n  },\n})\n\ninterface RelayProps {\n  artwork: {\n    href: string | null,\n    title: string | null,\n    date: string | null,\n    cultural_maker: string | null,\n    artists: Array<{\n      name: string | null,\n    } | null> | null,\n    collecting_institution: string | null,\n    partner: {\n      name: string | null,\n    } | null,\n  },\n}\n"]}